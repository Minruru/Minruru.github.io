<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬ä¸€æ¬¡å»æ±äº¬å°±ä¸Šæ‰‹ï½œæœè–MyGOã€å­¤ç¨æ–æ»¾æ—…éŠæ‰‹å†Š</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Zen+Maru+Gothic:wght@700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* --- ğŸ¨ å…¨å±€è¨­è¨ˆèˆ‡è‰²å½©é…ç½® --- */
        :root {
            --bg-dark: #121212;
            --bg-light: #1E1E1E;
            --card-bg: #2A2A2A;
            --primary-color: #29D8E4; /* ä¸»é¡Œè‰² - äº®é’è‰² */
            --secondary-color: #F7B733; /* å¼·èª¿è‰² - æš–é»ƒè‰² */
            --gemini-grad-start: #8E44AD;
            --gemini-grad-end: #3498DB;
            --text-main: #EAEAEA;
            --text-muted: #A0A0A0;
            --border-color: #444444;
        }

        html { scroll-behavior: smooth; }
        body {
            background-color: var(--bg-dark); color: var(--text-main); font-family: 'Noto Sans TC', sans-serif;
            -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
        }

        /* --- âœ’ï¸ å­—é«”æ’ç‰ˆ --- */
        h1, h2, h3, h4 { font-family: 'Zen Maru Gothic', 'Noto Sans TC', sans-serif; font-weight: 700; }
        h1, h2 { color: var(--primary-color); margin-bottom: 1rem; }
        h3, h4 { color: var(--text-main); margin-bottom: 0.75rem; }
        p { color: var(--text-muted); line-height: 1.7; margin-bottom: 1rem; }
        a { color: var(--secondary-color); text-decoration: none; transition: color 0.3s; }
        a:hover { color: #ffc95e; }

        /* --- ğŸŒŸ å‹•ç•«æ•ˆæœ --- */
        .reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.6s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* --- ğŸ“„ ä¸»é«”èˆ‡å€å¡Šçµæ§‹ --- */
        .main-content-wrapper { max-width: 1000px; margin: 0 auto; padding: 0 1rem; }
        @media (min-width: 768px) { .main-content-wrapper { padding: 0 2rem; } }
        section { padding: 5rem 0; border-bottom: 1px solid var(--border-color); }
        section:last-of-type { border-bottom: none; }

        /* --- ğŸš€ å°é¢é è¨­è¨ˆ --- */
        #cover-page {
            height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 1rem;
            background-image: linear-gradient(rgba(18, 18, 18, 0.7), rgba(18, 18, 18, 0.9)), url('https://images.unsplash.com/photo-1542051841857-5f90071e7989?q=80&w=2070&auto=format&fit=crop');
            background-size: cover; background-position: center; border-bottom: 1px solid var(--border-color);
        }
        #cover-page h1 { font-size: 3rem; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        #cover-page p { font-size: 1.25rem; font-weight: 300; }
        @media (min-width: 768px) { #cover-page h1 { font-size: 4.5rem; } #cover-page p { font-size: 1.5rem; } }
        #cover-page .explore-btn {
            margin-top: 2rem; padding: 0.8rem 2rem; background-color: var(--primary-color); color: var(--bg-dark);
            border-radius: 50px; font-size: 1rem; font-weight: 700; box-shadow: 0 4px 20px rgba(41, 216, 228, 0.3);
            transition: all 0.3s ease; border: none; cursor: pointer;
        }
        #cover-page .explore-btn:hover { transform: translateY(-5px); box-shadow: 0 8px 30px rgba(41, 216, 228, 0.4); }

        /* --- ğŸ§­ å°è¦½åˆ— --- */
        header.sticky-header {
            position: sticky; top: 0; z-index: 1000; background-color: rgba(18, 18, 18, 0.85);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-bottom: 1px solid var(--border-color);
        }
        header nav {
            max-width: 1200px; margin: 0 auto; padding: 0.75rem 1rem; display: flex;
            justify-content: space-between; align-items: center;
        }
        header .nav-title { font-size: 1.25rem; font-weight: 700; color: var(--primary-color); }
        header .nav-links a {
            color: var(--text-muted); text-decoration: none; margin: 0 0.5rem; padding: 0.5rem 0;
            position: relative; transition: color 0.3s ease; font-size: 0.9rem;
        }
        @media (min-width: 1200px) { header .nav-links a { margin: 0 0.75rem; font-size: 1rem;} }
        header .nav-links a::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 2px;
            background-color: var(--primary-color); transition: width 0.3s ease;
        }
        header .nav-links a:hover, header .nav-links a.active { color: var(--text-main); }
        header .nav-links a:hover::after, header .nav-links a.active::after { width: 100%; }
        .mobile-nav-container { display: none; }
        .print-btn {
            background: none; border: 1px solid var(--border-color); color: var(--text-muted);
            padding: 0.5rem 1rem; border-radius: 20px; cursor: pointer; transition: all 0.3s ease; margin-left: 1rem;
        }
        .print-btn:hover { background-color: var(--primary-color); color: var(--bg-dark); border-color: var(--primary-color); }
        @media (max-width: 1024px) {
            header .nav-links { display: none; }
            .mobile-nav-container { display: block; }
            #mobile-nav {
                background-color: var(--card-bg); color: var(--text-main); border: 1px solid var(--border-color);
                border-radius: 8px; padding: 0.5rem;
            }
        }

        /* --- ğŸƒ å¡ç‰‡èˆ‡å…ƒä»¶è¨­è¨ˆ --- */
        .card {
            background-color: var(--card-bg); border-radius: 12px; padding: 1.5rem;
            border: 1px solid var(--border-color); transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        @media (min-width: 768px) { .card { padding: 2rem; } }
        .section-header { text-align: center; margin-bottom: 3rem; }
        .section-header h2 { font-size: 2.25rem; }
        .section-header p { font-size: 1.1rem; color: var(--text-muted); max-width: 600px; margin: 0 auto; }
        .grid { display: grid; gap: 2rem; }
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        @media (min-width: 768px) { .md-grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); } }
        @media (min-width: 1024px) { .lg-grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
        .mb-12 { margin-bottom: 3rem; }
        .stat-card { display: flex; flex-direction: column; align-items: center; text-align: center; }
        .stat-card-icon {
            background-color: var(--bg-light); border-radius: 50%; width: 60px; height: 60px;
            display: flex; justify-content: center; align-items: center; margin-bottom: 1rem; color: var(--primary-color);
        }
        .stat-card-icon svg { width: 2rem; height: 2rem; }
        .stat-card span:nth-of-type(1) { color: var(--text-muted); }
        .stat-card span:nth-of-type(2) { font-size: 1.8rem; font-weight: 700; margin-top: 0.25rem; }

        /* --- ğŸ–¼ï¸ åœ–ç‰‡èˆ‡ç‡ˆç®± --- */
        .section-image, .attraction-detail-image {
            width: 100%; object-fit: cover; border-radius: 12px;
            margin-bottom: 2rem; cursor: pointer; transition: all 0.3s ease;
        }
        .section-image { height: 250px; }
        .attraction-detail-image { height: 200px; }
        .section-image:hover, .attraction-detail-image:hover { filter: brightness(1.2); transform: scale(1.02); }
        #lightbox {
            position: fixed; z-index: 10000; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.9); display: none; justify-content: center; align-items: center;
        }
        #lightbox.active { display: flex; animation: fadeIn 0.3s; }
        #lightbox img { max-width: 90vw; max-height: 85vh; object-fit: contain; }
        #lightbox .close {
            position: absolute; top: 20px; right: 30px; color: #fff; font-size: 40px;
            font-weight: bold; transition: 0.3s; cursor: pointer;
        }

        /* --- ğŸ—‚ï¸ é ç±¤/åˆ†é ç³»çµ± --- */
        .tabs { display: flex; flex-wrap: wrap; justify-content: center; gap: 0.5rem; margin-bottom: 2rem; }
        .tab-btn, .category-tab-btn, .attraction-tab-btn, .transportation-tab-btn {
            background-color: var(--card-bg); border: 1px solid var(--border-color); color: var(--text-muted);
            padding: 0.6rem 1.2rem; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; font-weight: 500;
        }
        .attraction-tab-btn, .transportation-tab-btn { font-size: 0.8rem; padding: 0.5rem 1rem; border-radius: 20px; }
        .tab-btn:hover, .category-tab-btn:hover, .attraction-tab-btn:hover, .transportation-tab-btn:hover {
            background-color: var(--primary-color); color: var(--bg-dark); border-color: var(--primary-color); transform: translateY(-2px);
        }
        .tab-btn.active, .category-tab-btn.active, .attraction-tab-btn.active, .transportation-tab-btn.active {
            background-color: var(--primary-color); color: var(--bg-dark); border-color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(41, 216, 228, 0.2); font-weight: 700;
        }
        .tab-content, .category-tab-content, .attraction-content, .transportation-content { animation: fadeIn 0.5s; }
        .hidden { display: none; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- âœ… æ¸…å–®æ¨£å¼ --- */
        .prose-custom ul { list-style-type: none; padding-left: 0; }
        .prose-custom li { position: relative; padding-left: 2em; margin-bottom: 1rem; }
        .prose-custom li::before {
            position: absolute; left: 0; top: 0.1em; font-size: 1.2em; color: var(--primary-color);
        }
        #itinerary .prose-custom li::before { content: 'â¡ï¸'; }
        #attractions .prose-custom li::before { content: 'âœ¨'; }
        #transportation .prose-custom li::before { content: 'ğŸšŒ'; }
        .interactive-checklist ul { padding-left: 0; list-style: none; }
        .interactive-checklist li { padding-left: 2.5rem; position: relative; margin-bottom: 1rem; }
        .interactive-checklist input[type="checkbox"] { position: absolute; opacity: 0; cursor: pointer; }
        .interactive-checklist label { cursor: pointer; display: block; }
        .interactive-checklist label::before {
            content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%);
            width: 24px; height: 24px; border: 2px solid var(--border-color);
            border-radius: 6px; background-color: var(--bg-light); transition: all 0.2s ease;
        }
        .interactive-checklist input:checked + label::before { background-color: var(--secondary-color); border-color: var(--secondary-color); }
        .interactive-checklist input:checked + label { color: var(--text-muted); text-decoration: line-through; }
        .interactive-checklist label::after {
            content: 'âœ”'; position: absolute; left: 6px; top: 50%; transform: translateY(-50%) scale(0);
            font-size: 16px; color: var(--bg-dark); transition: transform 0.2s ease;
        }
        .interactive-checklist input:checked + label::after { transform: translateY(-50%) scale(1); }

        /* --- ğŸ“ˆ åœ–è¡¨èˆ‡è¡¨æ ¼ --- */
        .chart-container { position: relative; height: 350px; width: 100%; }
        .chart-container.h-96 { height: 24rem; }
        table { width: 100%; border-collapse: collapse; color: var(--text-muted); }
        th, td { padding: 0.75rem 1rem; text-align: left; }
        thead { border-bottom: 2px solid var(--primary-color); color: var(--text-main); }
        tbody tr { border-bottom: 1px solid var(--border-color); }
        tbody tr:last-child { border-bottom: none; }
        tbody tr:hover { background-color: var(--bg-light); }
        tbody tr .font-medium { color: var(--text-main); }
        table tfoot { font-weight: bold; color: var(--primary-color); font-size: 1.1rem; }
        .text-right { text-align: right; }

        /* --- âœ¨ Gemini AI åŠŸèƒ½ --- */
        .gemini-btn {
            background-image: linear-gradient(45deg, var(--gemini-grad-start), var(--gemini-grad-end));
            color: white; border: none; padding: 0.6rem 1.2rem; border-radius: 20px;
            cursor: pointer; font-weight: 500; display: inline-flex; align-items: center; gap: 0.5rem;
            transition: all 0.3s ease; margin-top: 1rem;
        }
        .gemini-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(142, 68, 173, 0.3); }
        
        #gemini-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10001;
            background-color: rgba(0,0,0,0.7); display: flex; justify-content: center;
            align-items: center; opacity: 0; visibility: hidden; transition: all 0.3s ease;
        }
        #gemini-modal.active { opacity: 1; visibility: visible; }
        .gemini-modal-content {
            background-color: var(--card-bg); border-radius: 12px; padding: 2rem;
            width: 90%; max-width: 600px; max-height: 80vh; overflow-y: auto;
            border: 1px solid var(--border-color);
            position: relative;
            transform: scale(0.9); transition: transform 0.3s ease;
        }
        #gemini-modal.active .gemini-modal-content { transform: scale(1); }
        .gemini-modal-close {
            position: absolute; top: 1rem; right: 1rem; background: none; border: none;
            color: var(--text-muted); font-size: 1.5rem; cursor: pointer;
        }
        #gemini-modal-title { color: var(--primary-color); margin-bottom: 1rem; }
        #gemini-modal-body { color: var(--text-main); line-height: 1.8; white-space: pre-wrap; }
        #gemini-modal-body ul { list-style-position: inside; padding-left: 1rem;}
        #gemini-modal-body li { margin-bottom: 0.5rem; }

        .loader {
            width: 48px; height: 48px; border: 5px solid var(--primary-color);
            border-bottom-color: transparent; border-radius: 50%; display: inline-block;
            box-sizing: border-box; animation: rotation 1s linear infinite; margin: 2rem auto; display: block;
        }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- ğŸ–¨ï¸ åˆ—å°æ¨£å¼ --- */
        @media print {
            body { background-color: #fff; color: #000; font-size: 10pt; }
            header, footer, #cover-page, .print-btn, .tabs, .section-image, #lightbox, .gemini-btn, #gemini-modal { display: none !important; }
            .main-content-wrapper, section { padding: 0; border: none; margin-top: 1.5rem; }
            .card { box-shadow: none; border: 1px solid #ccc; padding: 1rem; page-break-inside: avoid; }
            a { text-decoration: none; color: #000; }
            a[href^="http"]::after { content: " (" attr(href) ")"; color: #555; }
            h1, h2, h3, h4 { color: #000; page-break-after: avoid; }
            .reveal { opacity: 1; transform: translateY(0); }
            .chart-container, .grid { page-break-inside: avoid; }
            .tab-content, .category-tab-content, .attraction-content, .transportation-content, .hidden {
                display: block !important; border-top: 1px solid #eee; padding-top: 1rem; margin-top: 1rem;
            }
        }
    </style>
</head>
<body>

    <div id="cover-page">
        <h1 class="reveal">ç¬¬ä¸€æ¬¡å»æ±äº¬å°±ä¸Šæ‰‹</h1>
        <p class="reveal">æ‚¨çš„å°ˆå±¬å‹•æ¼«è–åœ°èˆ‡ç¾é£Ÿæ¢éšªä¹‹æ—…</p>
        <button onclick="document.getElementById('overview').scrollIntoView();" class="explore-btn reveal">
            é–‹å§‹æ¢ç´¢
        </button>
    </div>

    <header class="sticky-header">
        <nav>
            <div class="nav-title">æ±äº¬å‹•æ¼«è–åœ°å·¡ç¦®</div>
            <div class="nav-links">
                <a href="#overview" class="nav-link active">ç¸½è¦½</a>
                <a href="#itinerary" class="nav-link">æ¯æ—¥è¡Œç¨‹</a>
                <a href="#attractions" class="nav-link">æ™¯é»ç¾é£Ÿä»‹ç´¹</a>
                <a href="#transportation" class="nav-link">äº¤é€šè³‡è¨Š</a>
                <a href="#budget" class="nav-link">é ç®—åˆ†æ</a>
                <a href="#shopping-list" class="nav-link">è³¼ç‰©&ä¼´æ‰‹ç¦®æ¸…å–®</a>
                <a href="#checklist" class="nav-link">è¡Œå‰æº–å‚™</a>
            </div>
            <div class="flex items-center">
                <div class="mobile-nav-container">
                    <select id="mobile-nav" onchange="document.querySelector(this.value).scrollIntoView();">
                        <option value="#overview">ç¸½è¦½</option>
                        <option value="#itinerary">æ¯æ—¥è¡Œç¨‹</option>
                        <option value="#attractions">æ™¯é»ç¾é£Ÿä»‹ç´¹</option>
                        <option value="#transportation">äº¤é€šè³‡è¨Š</option>
                        <option value="#budget">é ç®—åˆ†æ</option>
                        <option value="#shopping-list">è³¼ç‰©&ä¼´æ‰‹ç¦®æ¸…å–®</option>
                        <option value="#checklist">è¡Œå‰æº–å‚™</option>
                    </select>
                </div>
                <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ åˆ—å°</button>
            </div>
        </nav>
    </header>

    <main class="main-content-wrapper">

        <section id="overview">
            <div class="section-header reveal">
                <h2>è¡Œç¨‹ç¸½è¦½</h2>
                <p>ä¸€ç›®äº†ç„¶æ‚¨çš„æ±äº¬ä¹‹æ—…æ ¸å¿ƒè³‡è¨Šï¼šè²»ç”¨ã€æ™‚é–“èˆ‡ç›®çš„åœ°ã€‚</p>
            </div>
            <img src="https://images.unsplash.com/photo-1513407030348-c983a97b98d8?q=80&w=1200&auto=format&fit=crop" alt="Tokyo Overview Image" class="section-image reveal lightbox-trigger">
            <div class="grid grid-cols-1 md-grid-cols-3 mb-12">
                <div class="card stat-card reveal" style="transition-delay: 0.1s;">
                    <div class="stat-card-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 10v-1m0-13a9 9 0 110 18 9 9 0 010-18z"></path></svg></div>
                    <span>é ä¼°ç¸½è²»ç”¨</span>
                    <span id="totalCost"></span>
                </div>
                <div class="card stat-card reveal" style="transition-delay: 0.2s;">
                    <div class="stat-card-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div>
                    <span>æ—…è¡ŒæœŸé–“</span>
                    <span>6å¤©5å¤œ</span>
                </div>
                 <div class="card stat-card reveal" style="transition-delay: 0.3s;">
                    <div class="stat-card-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div>
                    <span>æ ¸å¿ƒç›®çš„åœ°</span>
                    <span style="font-size: 1.5rem;">ä¸‹åŒ—æ¾¤/æ¾€è°·/ç§‹è‘‰åŸ</span>
                </div>
            </div>
            <div class="card reveal">
                <h3 class="text-center">é ç®—è²»ç”¨åˆ†ä½ˆ</h3>
                <div class="chart-container">
                    <canvas id="budgetDonutChart"></canvas>
                </div>
            </div>
        </section>

        <section id="itinerary">
            <div class="section-header reveal">
                <h2>æ¯æ—¥è¡Œç¨‹è¦åŠƒ</h2>
                <p>é»æ“Šä¸‹æ–¹æ—¥æœŸï¼Œæ¢ç´¢æ¯ä¸€å¤©çš„è©³ç´°æ´»å‹•èˆ‡å‹•æ¼«è–åœ°å·¡ç¦®ï¼</p>
            </div>
            <img src="https://images.unsplash.com/photo-1539382430256-11b025a7d0d1?q=80&w=1200&auto=format&fit=crop" alt="Daily Itinerary Image" class="section-image reveal lightbox-trigger">
            <div class="tabs reveal">
                <button data-tab="day1" class="tab-btn active">Day 1 (8/18 ä¸€)</button>
                <button data-tab="day2" class="tab-btn">Day 2 (8/19 äºŒ)</button>
                <button data-tab="day3" class="tab-btn">Day 3 (8/20 ä¸‰)</button>
                <button data-tab="day4" class="tab-btn">Day 4 (8/21 å››)</button>
                <button data-tab="day5" class="tab-btn">Day 5 (8/22 äº”)</button>
                <button data-tab="day6" class="tab-btn">Day 6 (8/23 å…­)</button>
            </div>
            <div class="card reveal">
                <div class="prose-custom">
                    <div id="day1" class="tab-content">
                        <h3>Day 1 (8/18 ä¸€): æŠµé”èˆ‡ä¸‹åŒ—æ¾¤æ¢ç´¢</h3>
                        <p>æŠµé”æ±äº¬æˆç”°æ©Ÿå ´(NRT)å¾Œï¼Œæ­ä¹˜ N'EX è‡³æ¾€è°·ï¼Œå†è½‰ä¹˜äº¬ç‹äº•ä¹‹é ­ç·šæŠµé”å……æ»¿æ–‡é’èˆ‡å¾©å¤é¢¨æƒ…çš„ä¸‹åŒ—æ¾¤ã€‚å…¥ä½é£¯åº—å¾Œï¼Œæº–å‚™é–‹å§‹æ‚¨çš„ã€Šå­¤ç¨æ–æ»¾ï¼ã€‹è–åœ°å·¡ç¦®ï¼</p>
                        <ul>
                            <li>ğŸ›Œ 08:00-09:30 èµ·åºŠæ¢³æ´—ï¼Œæº–å‚™è¡Œæ</li>
                            <li>âœˆï¸ 09:30-11:30 æŠµé”æ¡ƒåœ’åœ‹éš›æ©Ÿå ´</li>
                            <li>ğŸ“ 11:30-12:30 æº–å‚™ç™»æ©Ÿæ‰‹çºŒä¸¦éé—œ</li>
                            <li>ğŸ” 12:30-14:15 éé—œå¾Œåœ¨æ©Ÿå ´é€²é£Ÿ</li>
                            <li>ğŸ›« 14:15-18:35 æ¡ƒåœ’åœ‹éš›æ©Ÿå ´åˆ°æ±äº¬æˆç”°æ©Ÿå ´</li>
                            <li>ğŸ¨ 18:35-20:30 æŠµé”ä¸‹åŒ—æ¾¤èŠ¥æœ«é£¯åº—</li>
                            <li>ğŸ›’ 20:30-21:30 é£¯åº—é™„è¿‘çš„è¶…å•†è§£æ±ºæ™šé¤</li>
                            <li>ğŸ›€ 21:30-23:00 æ´—æ¾¡ä¼‘æ¯</li>
                            <li>ğŸ˜´ 23:00-07:00 ç¡è¦º</li>
                        </ul>
                        <button class="gemini-btn itinerary-ai-btn">âœ¨ AI å¹«æˆ‘çœ‹çœ‹</button>
                    </div>
                    <div id="day2" class="tab-content hidden">
                        <h3>Day 2 (8/19 äºŒ): ä¸‹åŒ—æ¾¤æ¢ç´¢</h3>
                        <p>ä»Šæ—¥å°‡æ·±åº¦æ¢ç´¢ä¸‹åŒ—æ¾¤ï¼Œé€²è¡Œã€Šå­¤ç¨æ–æ»¾ï¼ã€‹è–åœ°å·¡ç¦®ï¼Œä¸¦å“åšç•¶åœ°ç‰¹è‰²ç¾é£Ÿã€‚</p>
                        <ul>
                            <li>ğŸ›Œ 07:00-08:00 èµ·åºŠæ¢³æ´—</li>
                            <li>â˜• 08:00-09:00 é™„è¿‘è¶…å•†åƒæ—©é¤</li>
                            <li>ğŸ¸ 09:00-12:00 å‰å¾€å­¤ç¨æ–æ»¾è–åœ°Shelter Live House (STARRYåŸå‹)ã€ğŸ…¿ï¸ Times ä¸‹åŒ—æ¾¤ç¬¬å…«åœè»Šå ´ (åœ˜é«”ç…§æ‹æ”åœ°)</li>
                            <li>ğŸ› 12:00-13:30 åˆé¤ è·¯åœ°è£å’–å“© ä¾ ä¸‹åŒ—æ¾¤åº— ç”¨é¤</li>
                            <li>ğŸ›ï¸ 13:30-15:30 æ¢ç´¢ä¸‹åŒ—æ¾¤ä¸€ç•ªè¡—çš„ç¨ç‰¹åº—é‹ªèˆ‡å¤è‘—åº—</li>
                            <li>ğŸ® 16:00-17:00 ç™½é«­æ³¡èŠ™å·¥æˆ¿ åƒé¾è²“æ³¡èŠ™</li>
                            <li>ğŸš¶ 17:00-18:00 åœ¨ä¸‹åŒ—æ¾¤è¡—é“ç¹¼çºŒé–’é€›</li>
                            <li>ğŸ” 18:00-19:00 Village Vanguard Diner Shimokitazawa ç”¨é¤</li>
                            <li>ğŸŒƒ 19:00-20:00 åˆ°ä¸‹åŒ—æ¾¤å¤œå¸‚é€›é€›ï¼Œçœ‹æœ‰æ²’æœ‰ä¾¿å®œè¡£æœ</li>
                            <li>ğŸš¿ 20:00-22:00 å›åˆ°é£¯åº—æ´—æ¾¡ä¼‘æ¯</li>
                            <li>âœ… 22:00-23:00 ç¢ºèªéš”æ—¥è¡Œç¨‹ä¸¦æº–å‚™ç¡è¦º</li>
                            <li>ğŸ˜´ 23:00-07:00 ç¡è¦º</li>
                        </ul>
                        <button class="gemini-btn itinerary-ai-btn">âœ¨ AI å¹«æˆ‘çœ‹çœ‹</button>
                    </div>
                    <div id="day3" class="tab-content hidden">
                        <h3>Day 3 (8/20 ä¸‰): æ¾€è°·ã€æ–°å®¿ä¸€æ—¥éŠ & å‰é€²ç§‹è‘‰åŸ</h3>
                        <p>å‰å¾€æ–°å®¿ã€æ¾€è°·é€›é€›åƒç¾é£Ÿï¼Œå‚æ™šï¼Œæ­ä¹˜JRç·šå‰å¾€å‹•æ¼«èˆ‡é›»å­çš„è–åœ°â€”â€”ç§‹è‘‰åŸï¼Œä¸¦å…¥ä½æ–°é£¯åº—ã€‚</p>
                        <ul>
                            <li>ğŸ›Œ 07:00-08:00 èµ·åºŠæ¢³æ´—</li>
                            <li>ğŸ¨ 08:00-08:30 æº–å‚™é€€æˆ¿é›¢é–‹é£¯åº—</li>
                            <li>â˜• 08:30-10:00 ãˆãã¶ã‚Š ç”¨é¤</li>
                            <li>ğŸš† 10:00-10:20 å¾ä¸‹åŒ—æ¾¤æ­è»Šåˆ°æ¶‰è°·ç«™</li>
                            <li>ğŸ›ï¸ 10:20-12:00 é€›ãƒ¦ãƒ‹ã‚¯ãƒ­ æ¸‹è°·é“ç„å‚åº—ã€æ¶‰è°·GUæ¡è²·è¡£æœï¼ˆä¹Ÿè¦å¹«è€åª½è²·ï¼‰</li>
                            <li>ğŸš¶ 12:00-12:10 æŠµé”åˆé¤åœ°é»</li>
                            <li>ğŸ– 12:10-13:40 åŸå‘³ç„¼è‚‰ ã˜ã‚ƒã‚“ã‹ é“ç„å‚ ç”¨é¤</li>
                            <li>ğŸš— 13:40-14:20 æ­è»Šå‰å¾€Tokyo Bitcoin Base</li>
                            <li>â›©ï¸ 14:20-16:00 é€›Tokyo Bitcoin Base</li>
                            <li>ğŸš† 16:00-16:50 æ­è»Šå‰å¾€äººå½¢ç”ºä»ŠåŠ æ–°å®¿é«™å³¶å±‹åº—ï¼ˆå‹™å¿…17:00å‰æŠµé”ï¼‰</li>
                            <li>ğŸ² 17:00-18:30 åœ¨äººå½¢ç”ºä»ŠåŠ æ–°å®¿é«™å³¶å±‹åº— ç”¨é¤</li>
                            <li>ğŸ§³ 18:30-19:30 æ­è»Šå‰å¾€æ±äº¬ä¸­å¤®å¤§é£¯åº— Check In</li>
                            <li>ğŸª 19:30-20:30 é€›ä¸€ä¸‹é£¯åº—å‘¨é‚Šèˆ‡è¶…å•†è³¼è²·é›¶é£Ÿèˆ‡æ˜å¤©æ—©é¤</li>
                            <li>ğŸ›€ 20:30-22:00 å›åˆ°é£¯åº—æ´—æ¾¡ä¼‘æ¯</li>
                            <li>âœ… 22:00-23:00 ç¢ºèªæ˜å¤©è¡Œç¨‹</li>
                            <li>ğŸ˜´ 23:00-07:00 ç¡è¦º</li>
                        </ul>
                        <button class="gemini-btn itinerary-ai-btn">âœ¨ AI å¹«æˆ‘çœ‹çœ‹</button>
                    </div>
                    <div id="day4" class="tab-content hidden">
                        <h3>Day 4 (8/21 å››): ã€ŠMyGO!!!!!ã€‹è–åœ°å·¡ç¦®æ—¥</h3>
                        <p>ä»Šæ—¥æ˜¯ã€ŠMyGO!!!!!ã€‹çš„è–åœ°å·¡ç¦®æ—¥ï¼å‰å¾€é£›é³¥å±±å…¬åœ’ã€èˆŠå¤æ²³åº­åœ’ï¼Œæœè–çˆ½ä¸–èˆ‡ç¥¥å­æˆ°é¬¥éï¼Œä»¥åŠç¥¥å­æˆç‚ºäººé¡çš„æ©‹ã€‚</p>
                        <ul>
                            <li>ğŸ›Œ 07:00-08:00 èµ·åºŠæ¢³æ´—</li>
                            <li>â˜• 08:00-09:30 åƒæ˜¨å¤©æº–å‚™çš„æ—©é¤</li>
                            <li>ğŸŒ³ 09:30-10:00 æ­è»Šå‰å¾€é£›é³¥å±±å…¬åœ’</li>
                            <li>ğŸš¶â€â™€ï¸ 10:00-11:00 æœè–çˆ½ä¸–èˆ‡ç¥¥å­æˆ°é¬¥éçš„åœ°æ–¹ï¼Œå¯æ­éµè»Œé€›å…¬åœ’</li>
                            <li>ğŸ¡ 11:00-11:20 èµ°è·¯å‰å¾€èˆŠå¤æ²³åº­åœ’</li>
                            <li>ğŸŒ¸ 11:20-12:20 åœ¨èˆŠå¤æ²³åº­åœ’æœè–ç¥¥å­çš„å®¶</li>
                            <li>ğŸš¶ 12:00-12:10 åˆ°æ—é‚Šçš„ã‚³ã‚³ãƒ•ãƒ«</li>
                            <li>ğŸ” 12:10-13:40 åœ¨ã‚³ã‚³ãƒ•ãƒ« ç”¨é¤</li>
                            <li>ğŸš— 13:40-14:30 æ­è»Šå‰å¾€åƒç™»ä¸–æ­¥é“æ©‹ï¼Œæœè–æˆç‚ºäººé¡æ©‹</li>
                            <li>ğŸ¤ 14:30-15:30 åœ¨åƒç™»ä¸–æ­¥é“æ©‹å‘¨åœé€›é€›</li>
                            <li>ğŸš† 15:30-16:10 æ­è»Šå›åˆ°æ±äº¬ä¸­å¤®å¤§é£¯åº—</li>
                            <li>ğŸ˜´ 16:10-17:10 åœ¨é£¯åº—ä¼‘æ¯</li>
                            <li>ğŸš¶â€â™€ï¸ 17:10-17:30 èµ°è·¯åˆ°å»šæˆ¿å—æµ· ç¥ä¿ç”ºåº—</li>
                            <li>ğŸ½ï¸ 17:30-19:00 åœ¨ å»šæˆ¿å—æµ· ç¥ä¿ç”ºåº— ç”¨é¤</li>
                            <li>19:00-20:00 è²·å¥½æ˜å¤©æ—©é¤ä¸¦å›åˆ°é£¯åº—</li>
                            <li>ğŸš¿ 20:00-22:00 å›åˆ°é£¯åº—æ´—æ¾¡ä¼‘æ¯</li>
                            <li>âœ… 22:00-23:00 ç¢ºèªæ˜å¤©è¡Œç¨‹</li>
                            <li>ğŸ˜´ 23:00-07:00 ç¡è¦º</li>
                        </ul>
                        <button class="gemini-btn itinerary-ai-btn">âœ¨ AI å¹«æˆ‘çœ‹çœ‹</button>
                    </div>
                    <div id="day5" class="tab-content hidden">
                        <h3>Day 5 (8/22 äº”): ç§‹è‘‰åŸå‹•æ¼«ä¹‹æ—…</h3>
                        <p>ä»Šæ—¥å°‡æ·±åº¦æ¢ç´¢ç§‹è‘‰åŸçš„å‹•æ¼«æ–‡åŒ–ï¼Œå¾é›»å™¨ã€æ¨¡å‹åˆ°å„å¼å‘¨é‚Šå•†å“ï¼Œè®“æ‚¨æ»¿è¼‰è€Œæ­¸ï¼</p>
                        <ul>
                            <li>ğŸ›Œ 07:00-08:00 èµ·åºŠæ¢³æ´—</li>
                            <li>â˜• 08:00-10:00 åƒé£¯åº—çš„æ—©é¤æˆ–è€…é™„è¿‘è¶…å•†</li>
                            <li>ğŸ“º 10:00-12:00 å‰å¾€ç§‹è‘‰åŸãƒ©ã‚¸ã‚ªæœƒé¤¨</li>
                            <li>ğŸš¶ 12:00-12:30 å‰å¾€ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³åšå¤šé¢¨é¾ ç§‹è‘‰åŸç·æœ¬åº—</li>
                            <li>ğŸ› 12:00-14:00 åœ¨ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³åšå¤šé¢¨é¾ ç§‹è‘‰åŸç·æœ¬åº— ç”¨é¤</li>
                            <li>ğŸ® 14:00-17:00 ç¹¼çºŒé€›ç§‹è‘‰åŸãƒ©ã‚¸ã‚ªæœƒé¤¨ã€e-earphone ç§‹è‘‰åŸåº—ç­‰åº—é¢</li>
                            <li>ğŸ›ï¸ 17:00-18:00 å‰å¾€SEEKBASEã€2k540æ‰‹å·¥è—å“åº—é€›é€›</li>
                            <li>ğŸœ 18:00-19:10 å‰å¾€ã¨ã‚“ã‹ã¤æªã®ã‚«ãƒ¬ãƒ¼å±‹ ã„ã£ãºã“ã£ãº ç§‹è‘‰åŸåº— ç”¨é¤</li>
                            <li>ğŸ›’ 19:10-20:30 å…ˆè²·æ˜å¤©æ—©é¤ä¸¦å›åˆ°é£¯åº—</li>
                            <li>ğŸš¿ 20:30-22:00 å›åˆ°é£¯åº—æ´—æ¾¡ä¼‘æ¯</li>
                            <li>âœ… 22:00-23:00 ç¢ºèªæ˜å¤©è¡Œç¨‹èˆ‡é€€æˆ¿æ™‚é–“</li>
                            <li>ğŸ˜´ 23:00-08:00 ç¡è¦º</li>
                        </ul>
                        <button class="gemini-btn itinerary-ai-btn">âœ¨ AI å¹«æˆ‘çœ‹çœ‹</button>
                    </div>
                    <div id="day6" class="tab-content hidden">
                        <h3>Day 6 (8/23 å…­): ä¼´æ‰‹ç¦®æ¡è²·æ—¥&å•Ÿç¨‹è¿”å®¶</h3>
                        <p>æ•´ç†è¡Œå›Šï¼Œäº«å—åœ¨æ±äº¬çš„æœ€å¾Œä¸€å¤©ã€‚å¾ç§‹è‘‰åŸåœ°å€è³¼è²·ä¼´æ‰‹ç¦®ï¼Œä¸­åˆéš¨æ„åƒå–ï¼Œä¸‹åˆæ­è»Šåˆ°æˆç”°æ©Ÿå ´ï¼Œæº–å‚™æ­æ™šä¸Šçš„ç­æ©Ÿå¹³å®‰è¿”å®¶ã€‚</p>
                        <ul>
                            <li>ğŸ›Œ 08:00-09:00 èµ·åºŠæ¢³æ´—åƒæ—©é¤</li>
                            <li>ğŸ¨ 09:00-10:00 æº–å‚™è¡Œæèˆ‡ç¢ºèªé‡è¦ç‰©å“ä¸¦é€€æˆ¿</li>
                            <li>10:00-10:30 å‰å¾€ç§‹è‘‰åŸãƒ©ã‚¸ã‚ªæœƒé¤¨</li>
                            <li>10:30-12:30 åœ¨æœƒé¤¨ä¸€æ¨“çš„ã‚®ãƒ•ãƒˆã‚·ãƒ§ãƒƒãƒ— The AkiBa è³¼è²·ä¼´æ‰‹ç¦®</li>
                            <li>12:30-14:30 éš¨ä¾¿æ‰¾ä¸€é–“åº—ç”¨é¤</li>
                            <li>14:30-15:30 åœ¨é™„è¿‘çš„å…¨å®¶è³¼è²·è˜‹æœä¹¾å…©åŒ…ï¼ˆå­å„€ä¼´æ‰‹ç¦®ï¼‰</li>
                            <li>15:30-17:00 æ­è»Šå‰å¾€æˆç”°æ©Ÿå ´</li>
                            <li>17:00-19:00åœ¨æ©Ÿå ´æº–å‚™ç™»æ©Ÿæ‰‹çºŒèˆ‡ç”¨é¤</li>
                            <li>19:00-19:30 æ­æ¥é§è»Šåˆ°ç™»æ©Ÿè™•</li>
                            <li>19:30-22:35 æ®æ‰‹å‘Šåˆ¥æ±äº¬ï¼Œæ­æ©Ÿè¿”å›å°ç£</li>
                            <li>22:35-23:35 æ­è¨ˆç¨‹è»Šå‰å¾€è‚¥è‚¥çš„å¤§å”å”å®¶</li>
                        </ul>
                        <button class="gemini-btn itinerary-ai-btn">âœ¨ AI å¹«æˆ‘çœ‹çœ‹</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="attractions">
            <div class="section-header reveal">
                <h2>æ™¯é»ã€ç¾é£Ÿä»‹ç´¹</h2>
                <p>æ·±å…¥äº†è§£è¡Œç¨‹ä¸­å„å€‹åœ°é»çš„ç‰¹è‰²èˆ‡æ¨è–¦è³‡è¨Šã€‚</p>
            </div>
            <img src="https://images.unsplash.com/photo-1549767579-990e1f435a22?q=80&w=1200&auto=format&fit=crop" alt="Attractions and Food Image" class="section-image reveal lightbox-trigger">
            <div class="tabs reveal">
                <button data-category-tab="category-shimokita" class="category-tab-btn active">ä¸‹åŒ—æ¾¤å€åŸŸ</button>
                <button data-category-tab="category-shibuya-shinjuku" class="category-tab-btn">æ¾€è°·/æ–°å®¿å€åŸŸ</button>
                <button data-category-tab="category-mygo-area" class="category-tab-btn">MyGO!!!!!è–åœ°</button>
                <button data-category-tab="category-akiba" class="category-tab-btn">ç§‹è‘‰åŸ/ç¥ä¿ç”º</button>
            </div>
            <div class="card reveal">
                <div class="prose-custom">
                    <!-- Shimokitazawa Category -->
                    <div id="category-shimokita" class="category-tab-content">
                        <div class="tabs">
                            <button data-attraction-tab="hotel-mustard" class="attraction-tab-btn active">ä¸‹åŒ—æ¾¤èŠ¥æœ«é£¯åº—</button>
                            <button data-attraction-tab="shelter-live-house" class="attraction-tab-btn">Shelter Live House</button>
                            <button data-attraction-tab="times-parking" class="attraction-tab-btn">Timesåœè»Šå ´</button>
                            <button data-attraction-tab="curry-samurai" class="attraction-tab-btn">è·¯åœ°è£å’–å“© ä¾</button>
                            <button data-attraction-tab="shirahige-choux" class="attraction-tab-btn">ç™½é«­æ³¡èŠ™å·¥æˆ¿</button>
                            <button data-attraction-tab="village-vanguard-diner" class="attraction-tab-btn">Village Vanguard Diner</button>
                            <button data-attraction-tab="ekuburi" class="attraction-tab-btn">ãˆãã¶ã‚Š</button>
                        </div>
                        <div id="hotel-mustard" class="attraction-content">
                            <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=1200&auto=format&fit=crop" alt="ä¸‹åŒ—æ¾¤èŠ¥æœ«é£¯åº—" class="attraction-detail-image lightbox-trigger">
                            <h4>ä¸‹åŒ—æ¾¤èŠ¥æœ«é£¯åº— (MUSTARD HOTEL SHIMOKITAZAWA) ğŸ¨</h4>
                            <p>ä½æ–¼ä¸‹åŒ—æ¾¤å¿ƒè‡Ÿåœ°å¸¶çš„è¨­è¨ˆæ—…åº—ï¼Œä»¥å…¶ç°¡ç´„æ™‚å°šçš„é¢¨æ ¼å’Œä¾¿åˆ©çš„åœ°ç†ä½ç½®è‘—ç¨±ï¼Œæ˜¯é«”é©—ä¸‹åŒ—æ¾¤æ–‡å‰µæ°›åœçš„çµ•ä½³èµ·é»ã€‚</p>
                        </div>
                        <div id="shelter-live-house" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1524368535928-5b5e00ddc76b?q=80&w=1200&auto=format&fit=crop" alt="Shelter Live House" class="attraction-detail-image lightbox-trigger">
                             <h4>Shelter Live House (STARRYåŸå‹) ğŸ¤</h4>
                             <p>æ±äº¬æ­·å²æ‚ ä¹…çš„çŸ¥å Live Houseï¼Œä¹Ÿæ˜¯ã€Šå­¤ç¨æ–æ»¾ï¼ã€‹ä¸­ã€ŒSTARRYã€Live House çš„åŸå‹ã€‚</p>
                        </div>
                        <div id="times-parking" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1616362355033-116416204155?q=80&w=1200&auto=format&fit=crop" alt="Timesåœè»Šå ´" class="attraction-detail-image lightbox-trigger">
                             <h4>Times ä¸‹åŒ—æ¾¤ç¬¬å…«åœè»Šå ´ (åœ˜é«”ç…§æ‹æ”åœ°) ğŸ…¿ï¸</h4>
                             <p>å› ã€Šå­¤ç¨æ–æ»¾ï¼ã€‹å‹•ç•«ä¸­ã€Œåœ˜çµBandã€åœ¨æ­¤æ‹æ”ç¶“å…¸åœ˜é«”ç…§è€Œèåï¼Œæˆç‚ºç²‰çµ²å€‘çˆ­ç›¸æ¨¡ä»¿æ‹ç…§çš„è–åœ°ã€‚</p>
                        </div>
                        <div id="curry-samurai" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1582243544237-2ea11e5a5944?q=80&w=1200&auto=format&fit=crop" alt="è·¯åœ°è£å’–å“© ä¾" class="attraction-detail-image lightbox-trigger">
                             <h4>è·¯åœ°è£å’–å“© ä¾ ä¸‹åŒ—æ¾¤åº— ğŸ›</h4>
                             <p>ä¸‹åŒ—æ¾¤åœ°å€çŸ¥åçš„æ¹¯å’–å“©å°ˆè³£åº—ï¼Œä»¥å…¶è±å¯Œçš„è”¬èœã€æ¿ƒéƒçš„æ¹¯é ­å’Œå¤šæ¨£çš„å®¢è£½åŒ–é¸æ“‡å—åˆ°æ­¡è¿ã€‚</p>
                             <ul>
                                <li>æ¨è–¦æ–™ç†ï¼šæ‹›ç‰Œæ¹¯å’–å“©ï¼Œå¯é¸æ“‡è¾£åº¦ã€æ¹¯é ­ç¨®é¡å’Œå¤šç¨®é…æ–™ï¼ˆå¦‚é›è…¿ã€è±¬è‚‰ã€æµ·é®®æˆ–å„å¼è”¬èœï¼‰ã€‚</li>
                                <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šï¿¥1,320 - ï¿¥2,255</li>
                                <li>æ”¯ä»˜æ–¹å¼ï¼šä¸æ¥å—ä¿¡ç”¨å¡ä»˜æ¬¾ã€ä¸æ¥å—é›»å­ç¾é‡‘ã€æ¥å—PayPayæ”¯ä»˜ï¼ˆQRCodeï¼‰</li>
                                <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tw/tokyo/A1318/A131802/13165636/dtlmenu/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="è·¯åœ°è£å’–å“© ä¾ ä¸‹åŒ—æ¾¤åº—">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                        <div id="shirahige-choux" class="attraction-content hidden">
                              <img src="https://images.unsplash.com/photo-1620289299713-b5443a479493?q=80&w=1200&auto=format&fit=crop" alt="ç™½é«­æ³¡èŠ™å·¥æˆ¿" class="attraction-detail-image lightbox-trigger">
                             <h4>ç™½é«­æ³¡èŠ™å·¥æˆ¿ ğŸ®</h4>
                             <p>å®®å´é§¿å‹•ç•«è¿·å¿…è¨ªçš„å¯æ„›å’–å•¡å»³ï¼é€™è£¡æä¾›ç¨ç‰¹çš„é¾è²“é€ å‹æ³¡èŠ™ï¼Œé€ å‹å¯æ„›ï¼Œå…§é¤¡å£å‘³å¤šæ¨£ã€‚</p>
                             <ul>
                                <li>æ¨è–¦æ–™ç†ï¼šé¾è²“é€ å‹æ³¡èŠ™ (å£å‘³æœ‰å¡å£«é”ã€å·§å…‹åŠ›ã€å­£ç¯€é™å®šç­‰)ã€‚</li>
                                <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šï¿¥999</li>
                                <li>æ”¯ä»˜æ–¹å¼ï¼šä¸æ¥å—ä¿¡ç”¨å¡ä»˜æ¬¾ã€ä¸æ¥å—é›»å­ç¾é‡‘ã€æ¥å—PayPayæ”¯ä»˜ï¼ˆQRCodeï¼‰</li>
                                <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tw/tokyo/A1318/A131812/13161008/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="ç™½é«­æ³¡èŠ™å·¥æˆ¿">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                        <div id="village-vanguard-diner" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1561758033-d89a9ad46330?q=80&w=1200&auto=format&fit=crop" alt="Village Vanguard Diner" class="attraction-detail-image lightbox-trigger">
                             <h4>Village Vanguard Diner Shimokitazawa ğŸ”</h4>
                             <p>ç”±çŸ¥åé›œè²¨åº—ç¶“ç‡Ÿçš„æ¼¢å ¡åº—ï¼Œä»¥å…¶ã€Œå¤§äººæ¼¢å ¡ã€ç‚ºç‰¹è‰²ï¼Œåš´é¸é£Ÿæï¼Œæä¾›ç¾å‘³ä¸”ä»¤äººæ„‰æ‚…çš„æ­£å®—æ¼¢å ¡é«”é©—ã€‚</p>
                             <ul>
                                <li>æ¨è–¦æ–™ç†ï¼šå¤šæ±çš„ç‰›è‚‰é¤…æ¼¢å ¡ï¼Œå¦‚é³³æ¢¨ç‡’çƒ¤æ¼¢å ¡ã€è¾£æ¤’èµ·å¸æ¼¢å ¡ç­‰ã€‚</li>
                                <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šåˆé¤ç´„ Â¥1,000 - Â¥1,999ï¼›æ™šé¤ç´„ Â¥2,000 - Â¥2,999ã€‚</li>
                                <li>æ”¯ä»˜æ–¹å¼ï¼šæ¥å—ä¿¡ç”¨å¡ä»˜æ¬¾ã€é›»å­ç¾é‡‘ï¼ˆéƒ¨åˆ†é›»å­éŒ¢åŒ…ï¼‰ã€PayPayæ”¯ä»˜ï¼ˆQRCodeï¼‰</li>
                                <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tw/tokyo/A1318/A131802/13022465/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="Village Vanguard Diner Shimokitazawa">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                         <div id="ekuburi" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1525351484163-7529414344d8?q=80&w=1200&auto=format&fit=crop" alt="ãˆãã¶ã‚Š" class="attraction-detail-image lightbox-trigger">
                             <h4>ãˆãã¶ã‚Š â˜•</h4>
                             <p>é€™æ˜¯ä¸€å®¶æä¾›èˆ’é©æ—©é¤é«”é©—çš„å’–å•¡åº—ï¼Œé©åˆåœ¨è¡Œç¨‹é–‹å§‹å‰äº«ç”¨ä¸€ä»½æ‚ é–’çš„æ—©é»ã€‚</p>
                             <ul>
                                 <li>æ¨è–¦æ–™ç†ï¼šæ—¥å¼æ—©é¤å¥—é¤ã€å„å¼åå¸ã€å’–å•¡ç­‰ã€‚</li>
                                 <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tokyo/A1318/A131802/13243840/" target="_blank">Tabelog é€£çµ</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="ä¸‹åŒ—æ¾¤æ—©é¤åº— ãˆãã¶ã‚Š">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                    </div>
                    <!-- Shibuya/Shinjuku Category -->
                    <div id="category-shibuya-shinjuku" class="category-tab-content hidden">
                        <div class="tabs">
                            <button data-attraction-tab="uniqlo-shibuya" class="attraction-tab-btn active">ãƒ¦ãƒ‹ã‚¯ãƒ­ æ¸‹è°·é“ç„å‚åº—</button>
                            <button data-attraction-tab="gu-shibuya" class="attraction-tab-btn">GU æ¸‹è°·åº—</button>
                            <button data-attraction-tab="janka-dogenzaka" class="attraction-tab-btn">åŸå‘³ç„¼è‚‰ ã˜ã‚ƒã‚“ã‹ é“ç„å‚</button>
                            <button data-attraction-tab="tokyo-bitcoin-base" class="attraction-tab-btn">Tokyo Bitcoin Base</button>
                             <button data-attraction-tab="imahan-takashimaya" class="attraction-tab-btn">äººå½¢ç”ºä»ŠåŠ æ–°å®¿é«™å³¶å±‹åº—</button>
                        </div>
                         <div id="uniqlo-shibuya" class="attraction-content">
                             <img src="https://images.unsplash.com/photo-1593014343464-954a1a8cda48?q=80&w=1200&auto=format&fit=crop" alt="ãƒ¦ãƒ‹ã‚¯ãƒ­ æ¸‹è°·é“ç„å‚åº—" class="attraction-detail-image lightbox-trigger">
                             <h4>ãƒ¦ãƒ‹ã‚¯ãƒ­ æ¸‹è°·é“ç„å‚åº— ğŸ‘•</h4>
                             <p>ä½æ–¼æ¾€è°·çš„ Uniqlo åˆ†åº—ï¼Œæä¾›æœ€æ–°æ¬¾å¼çš„æœé£¾ï¼Œæ˜¯æ¡è³¼åŸºæœ¬æ¬¾èˆ‡æ½®æµå–®å“çš„å¥½å»è™•ã€‚</p>
                        </div>
                        <div id="gu-shibuya" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1551488831-00ddcb6c6bd3?q=80&w=1200&auto=format&fit=crop" alt="GU æ¸‹è°·åº—" class="attraction-detail-image lightbox-trigger">
                             <h4>GU æ¸‹è°·åº— ğŸ‘–</h4>
                             <p>Uniqlo çš„å§Šå¦¹å“ç‰Œï¼Œä»¥æ›´è¦ªæ°‘çš„åƒ¹æ ¼æä¾›æ™‚å°šæ½®æµæœé£¾ï¼Œæ·±å—å¹´è¼•äººå–œæ„›ã€‚</p>
                        </div>
                        <div id="janka-dogenzaka" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1553621042-f6e147245754?q=80&w=1200&auto=format&fit=crop" alt="åŸå‘³ç„¼è‚‰ ã˜ã‚ƒã‚“ã‹ é“ç„å‚" class="attraction-detail-image lightbox-trigger">
                             <h4>åŸå‘³ç„¼è‚‰ ã˜ã‚ƒã‚“ã‹ é“ç„å‚ ğŸ–</h4>
                             <p>æ¾€è°·çŸ¥åçš„ç‡’è‚‰åº—ï¼Œä»¥æä¾›é«˜å“è³ªçš„è‚‰å“ï¼ˆç‰¹åˆ¥æ˜¯å’Œç‰›ï¼‰èåï¼Œè®“æ‚¨èƒ½å“åšåˆ°å…¥å£å³åŒ–çš„ç¾å‘³ç‡’è‚‰ã€‚</p>
                              <ul>
                                <li>æ¨è–¦æ–™ç†ï¼šå„éƒ¨ä½çš„å’Œç‰›ç‡’è‚‰ã€ç‰¹é¸æ‹¼ç›¤ã€‚</li>
                                <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šï¿¥1,000ï¼ï¿¥1,999</li>
                                <li>æ”¯ä»˜æ–¹å¼ï¼šå¯æ¥å—ä¿¡ç”¨å¡ã€ä¸æ¥å—é›»å­ç¾é‡‘ï¼ˆè¥¿ç“œå¡ç­‰ï¼‰ã€æ¥å—PayPayæ”¯ä»˜ï¼ˆQRCodeï¼‰</li>
                                <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tokyo/A1303/A130301/13007287/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="åŸå‘³ç„¼è‚‰ ã˜ã‚ƒã‚“ã‹ é“ç„å‚">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                        <div id="tokyo-bitcoin-base" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1642150348821-420958a74a27?q=80&w=1200&auto=format&fit=crop" alt="Tokyo Bitcoin Base" class="attraction-detail-image lightbox-trigger">
                             <h4>Tokyo Bitcoin Base ğŸª™</h4>
                             <p>ä¸€å€‹èˆ‡åŠ å¯†è²¨å¹£ã€å€å¡Šéˆç›¸é—œçš„å¯¦é«”ç©ºé–“æˆ–ç¤¾ç¾¤æ“šé»ï¼Œå¸å¼•è‘—å°å€å¡ŠéˆæŠ€è¡“å’Œæ–‡åŒ–æ„Ÿèˆˆè¶£çš„äººå£«ã€‚</p>
                        </div>
                        <div id="imahan-takashimaya" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1623405786356-8564a6f9479a?q=80&w=1200&auto=format&fit=crop" alt="äººå½¢ç”ºä»ŠåŠ æ–°å®¿é«™å³¶å±‹åº—" class="attraction-detail-image lightbox-trigger">
                             <h4>äººå½¢ç”ºä»ŠåŠ æ–°å®¿é«™å³¶å±‹åº— ğŸ²</h4>
                             <p>æ—¥æœ¬é ‚ç´šçš„å£½å–œç‡’å’Œæ¶®æ¶®é‹å°ˆé–€åº—ï¼Œä»¥åš´é¸å’Œç‰›å’Œå‚³çµ±çƒ¹é£ªæ–¹å¼èåï¼Œæä¾›ç²¾ç·»ä¸”é“åœ°çš„æ—¥å¼ç”¨é¤é«”é©—ã€‚</p>
                             <ul>
                                <li>æ¨è–¦æ–™ç†ï¼šå£½å–œç‡’ã€æ¶®æ¶®é‹ï¼ˆå’Œç‰›å“è³ªæ¥µé«˜ï¼‰ã€‚</li>
                                <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šï¿¥15,000ï¼ï¿¥19,999</li>
                                <li>æ”¯ä»˜æ–¹å¼ï¼šå·²ç·šä¸Šé ç´„ä¸¦ä»˜æ¬¾</li>
                                <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tw/tokyo/A1304/A130401/13004274/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="äººå½¢ç”ºä»ŠåŠ æ–°å®¿é«™å³¶å±‹åº—">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                    </div>
                    <!-- MyGO!!!!! Category -->
                    <div id="category-mygo-area" class="category-tab-content hidden">
                        <div class="tabs">
                            <button data-attraction-tab="asukayama-park" class="attraction-tab-btn active">é£›é³¥å±±å…¬åœ’</button>
                            <button data-attraction-tab="kyu-furukawa-garden" class="attraction-tab-btn">èˆŠå¤æ²³åº­åœ’</button>
                             <button data-attraction-tab="chitose-bridge" class="attraction-tab-btn">åƒç™»ä¸–æ­¥é“æ©‹</button>
                             <button data-attraction-tab="cocofulu" class="attraction-tab-btn">ã‚³ã‚³ãƒ•ãƒ«</button>
                        </div>
                        <div id="asukayama-park" class="attraction-content">
                            <img src="https://images.unsplash.com/photo-1627725941490-5a331169a031?q=80&w=1200&auto=format&fit=crop" alt="é£›é³¥å±±å…¬åœ’" class="attraction-detail-image lightbox-trigger">
                            <h4>é£›é³¥å±±å…¬åœ’ ğŸŒ¸</h4>
                            <p>æ±Ÿæˆ¶æ™‚ä»£èµ·å°±æ˜¯è‘—åçš„è³æ«»å‹åœ°ï¼Œä¹Ÿæ˜¯ã€ŠMyGO!!!!!ã€‹å‹•ç•«çš„è–åœ°ï¼Œå¯ä»¥å°‹æ‰¾å‹•ç•«ä¸­çˆ½ä¸–èˆ‡ç¥¥å­ã€Œæˆ°é¬¥ã€éçš„å™´æ°´æ± ç­‰æ™¯é»ã€‚</p>
                        </div>
                        <div id="kyu-furukawa-garden" class="attraction-content hidden">
                            <img src="https://images.unsplash.com/photo-1551537025-a64c06252924?q=80&w=1200&auto=format&fit=crop" alt="èˆŠå¤æ²³åº­åœ’" class="attraction-detail-image lightbox-trigger">
                            <h4>èˆŠå¤æ²³åº­åœ’ ğŸŒ¹</h4>
                            <p>èåˆäº†æ—¥å¼åº­åœ’èˆ‡è¥¿å¼æ´‹é¤¨çš„ç¨ç‰¹è¨­è¨ˆï¼Œæ˜¯ã€ŠMyGO!!!!!ã€‹å‹•ç•«ä¸­ç¥¥å­å®¶çš„åŸå‹åœ°ã€‚</p>
                        </div>
                        <div id="chitose-bridge" class="attraction-content hidden">
                            <img src="https://images.unsplash.com/photo-1532258380696-62635344395a?q=80&w=1200&auto=format&fit=crop" alt="åƒç™»ä¸–æ­¥é“æ©‹" class="attraction-detail-image lightbox-trigger">
                            <h4>åƒç™»ä¸–æ­¥é“æ©‹ ğŸŒ‰</h4>
                            <p>ã€ŠMyGO!!!!!ã€‹å‹•ç•«ä¸­ï¼Œç¥¥å­é‚€è«‹ç‡ˆçµ„æˆæ¨‚åœ˜ï¼Œç¶“å…¸çš„ã€Œç¥¥å­æˆç‚ºäººé¡çš„æ©‹ã€ï¼Œæ˜¯ç²‰çµ²å¿…è¨ªçš„æœè–åœ°é»ã€‚</p>
                        </div>
                        <div id="cocofulu" class="attraction-content hidden">
                            <img src="https://images.unsplash.com/photo-1559305419-6f481a523a6c?q=80&w=1200&auto=format&fit=crop" alt="ã‚³ã‚³ãƒ•ãƒ«" class="attraction-detail-image lightbox-trigger">
                            <h4>ã‚³ã‚³ãƒ•ãƒ« â˜•</h4>
                            <p>ä½æ–¼é£›é³¥å±±å…¬åœ’é™„è¿‘çš„å’–å•¡åº—æˆ–ç°¡é¤åº—ï¼Œé©åˆåœ¨éŠè¦½å…¬åœ’å¾Œç¨ä½œä¼‘æ¯ï¼Œè£œå……èƒ½é‡ã€‚</p>
                             <ul>
                                <li>æ¨è–¦æ–™ç†ï¼šé€šå¸¸æä¾›å’–å•¡ã€è¼•é£Ÿã€æˆ–ç°¡é¤ã€‚</li>
                                <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šï¿¥1,000ï¼ï¿¥1,999</li>
                                <li>æ”¯ä»˜æ–¹å¼ï¼šå¯æ¥å—ä¿¡ç”¨å¡ã€å¯æ¥å—é›»å­ç¾é‡‘ï¼ˆè¥¿ç“œå¡ç­‰ï¼‰</li>
                                <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tokyo/A1323/A132303/13202218/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                            <button class="gemini-btn food-ai-btn" data-restaurant="ã‚³ã‚³ãƒ•ãƒ«cocofulu">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                    </div>
                    <!-- Akihabara/Jimbocho Category -->
                    <div id="category-akiba" class="category-tab-content hidden">
                         <div class="tabs">
                            <button data-attraction-tab="hotel-grand-central" class="attraction-tab-btn active">æ±äº¬ä¸­å¤®å¤§é£¯åº—</button>
                            <button data-attraction-tab="kitchen-nankai" class="attraction-tab-btn">å»šæˆ¿å—æµ· ç¥ä¿ç”ºåº—</button>
                            <button data-attraction-tab="akiba-radio-hall" class="attraction-tab-btn">ç§‹è‘‰åŸãƒ©ã‚¸ã‚ªæœƒé¤¨</button>
                            <button data-attraction-tab="hakata-furyu" class="attraction-tab-btn">ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³åšå¤šé¢¨é¾</button>
                            <button data-attraction-tab="e-earphone" class="attraction-tab-btn">e-earphone ç§‹è‘‰åŸåº—</button>
                            <button data-attraction-tab="tonkatsu-ippe" class="attraction-tab-btn">ã¨ã‚“ã‹ã¤æªã®ã‚«ãƒ¬ãƒ¼å±‹ ã„ã£ãºã“ã£ãº</button>
                            <button data-attraction-tab="the-akiba" class="attraction-tab-btn">ã‚®ãƒ•ãƒˆã‚·ãƒ§ãƒƒãƒ— The AkiBa</button>
                        </div>
                        <div id="hotel-grand-central" class="attraction-content">
                             <img src="https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=1200&auto=format&fit=crop" alt="æ±äº¬ä¸­å¤®å¤§é£¯åº—" class="attraction-detail-image lightbox-trigger">
                             <h4>æ±äº¬ä¸­å¤®å¤§é£¯åº— (Grand Central Hotel, Tokyo) ğŸ¨</h4>
                             <p>ä½æ–¼äº¤é€šæ¨ç´ï¼Œé„°è¿‘ç¥ç”°ã€ç§‹è‘‰åŸç­‰åœ°ï¼Œæ˜¯ä¸€å®¶æä¾›ç¶“å…¸èˆ’é©ä½å®¿é«”é©—çš„é£¯åº—ï¼Œæ–¹ä¾¿å‰å¾€æ±äº¬å„å€‹è§’è½ã€‚</p>
                        </div>
                        <div id="kitchen-nankai" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1599939887324-743d0452a233?q=80&w=1200&auto=format&fit=crop" alt="å»šæˆ¿å—æµ· ç¥ä¿ç”ºåº—" class="attraction-detail-image lightbox-trigger">
                             <h4>å»šæˆ¿å—æµ· ç¥ä¿ç”ºåº— ğŸ›</h4>
                             <p>ç¥ä¿ç”ºåœ°å€çš„å‚³å¥‡æ´‹é£Ÿè€åº—ï¼Œä»¥å…¶ä»½é‡åè¶³ã€åƒ¹æ ¼å¯¦æƒ çš„é»‘è‰²å’–å“©èåï¼Œæ˜¯ç•¶åœ°äººèˆ‡å­¸ç”Ÿå€‘çš„æœ€æ„›ã€‚</p>
                             <ul>
                                 <li>æ¨è–¦æ–™ç†ï¼šè±¬æ’å’–å“©é£¯ã€å¥¶æ²¹å¯æ¨‚é¤…ã€‚</li>
                                 <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šï¿¥1,000ï¼ï¿¥1,999</li>
                                 <li>æ”¯ä»˜æ–¹å¼ï¼šåªæ¥å—ç¾é‡‘</li>
                                 <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tw/tokyo/A1310/A131003/13249021/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="å»šæˆ¿å—æµ· ç¥ä¿ç”ºåº—">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                        <div id="akiba-radio-hall" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1613487957484-321c4196a39b?q=80&w=1200&auto=format&fit=crop" alt="ç§‹è‘‰åŸãƒ©ã‚¸ã‚ªæœƒé¤¨" class="attraction-detail-image lightbox-trigger">
                             <h4>ç§‹è‘‰åŸãƒ©ã‚¸ã‚ªæœƒé¤¨ ğŸ—¼</h4>
                             <p>ç§‹è‘‰åŸçš„åœ°æ¨™æ€§å»ºç¯‰ä¹‹ä¸€ï¼Œæ˜¯å‹•æ¼«ã€æ¨¡å‹ã€å¡ç‰Œå’Œå¶åƒå‘¨é‚Šå•†å“çš„èšé›†åœ°ï¼Œå‹•æ¼«è¿·çš„å¤©å ‚ã€‚</p>
                        </div>
                        <div id="hakata-furyu" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1552611052-33e04de081de?q=80&w=1200&auto=format&fit=crop" alt="ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³åšå¤šé¢¨é¾" class="attraction-detail-image lightbox-trigger">
                             <h4>ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³åšå¤šé¢¨é¾ ç§‹è‘‰åŸç·æœ¬åº— ğŸœ</h4>
                             <p>æä¾›æ­£å®—çš„åšå¤šè±šéª¨æ‹‰éºµï¼Œä»¥å…¶æ¿ƒéƒçš„æ¹¯é ­å’Œå¯ä»¥å…è²»çºŒåŠ å…©æ¬¡çš„ç´°éºµç‚ºç‰¹è‰²ï¼ŒCPå€¼æ¥µé«˜ã€‚</p>
                             <ul>
                                 <li>æ¨è–¦æ–™ç†ï¼šè±šéª¨æ‹‰éºµï¼Œå¯è‡ªé¸éºµçš„ç¡¬åº¦ã€‚</li>
                                 <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šï¿¥1,000ï¼ï¿¥1,999</li>
                                 <li>æ”¯ä»˜æ–¹å¼ï¼šä¸æ¥å—ä¿¡ç”¨å¡ã€å¯æ¥å—é›»å­ç¾é‡‘ï¼ˆè¥¿ç“œå¡ç­‰ï¼‰ã€å¯æ¥å—PayPayæ”¯ä»˜ï¼ˆQRCodeï¼‰</li>
                                 <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tw/tokyo/A1311/A131101/13096267/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³åšå¤šé¢¨é¾ ç§‹è‘‰åŸç·æœ¬åº—">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                        <div id="e-earphone" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1590658262432-722617a01353?q=80&w=1200&auto=format&fit=crop" alt="e-earphone ç§‹è‘‰åŸåº—" class="attraction-detail-image lightbox-trigger">
                             <h4>e-earphone ç§‹è‘‰åŸåº— ğŸ§</h4>
                             <p>è€³æ©Ÿèˆ‡éŸ³éŸ¿ç™¼ç‡’å‹çš„è–åœ°ï¼Œæä¾›æ¥µç‚ºè±å¯Œçš„å„å“ç‰Œè€³æ©Ÿã€æ’­æ”¾å™¨è©¦è½èˆ‡é¸è³¼æœå‹™ã€‚</p>
                        </div>
                        <div id="tonkatsu-ippe" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1599033665338-34a8a54d6f3c?q=80&w=1200&auto=format&fit=crop" alt="ã¨ã‚“ã‹ã¤æªã®ã‚«ãƒ¬ãƒ¼å±‹ ã„ã£ãºã“ã£ãº" class="attraction-detail-image lightbox-trigger">
                             <h4>ã¨ã‚“ã‹ã¤æªã®ã‚«ãƒ¬ãƒ¼å±‹ ã„ã£ãºã“ã£ãº ç§‹è‘‰åŸåº— ğŸ·</h4>
                             <p>ä»¥é«˜å“è³ªçš„ç‚¸è±¬æ’å’Œç¨ç‰¹çš„å’–å“©é†¬èåï¼Œæä¾›é…¥è„†å¤šæ±çš„ç‚¸è±¬æ’èˆ‡æ¿ƒéƒå’–å“©çš„å®Œç¾çµåˆã€‚</p>
                             <ul>
                                 <li>æ¨è–¦æ–™ç†ï¼šæ‹›ç‰Œç‚¸è±¬æ’å’–å“©é£¯ã€‚</li>
                                 <li>æ¯äººå¹³å‡ç”¨é¤åƒ¹ä½ï¼šï¿¥1,000ï¼ï¿¥1,999</li>
                                 <li>æ”¯ä»˜æ–¹å¼ï¼šåªæ¥å—æ—¥åœ“ç¾é‡‘</li>
                                 <li>åƒè€ƒè³‡æ–™ï¼š<a href="https://tabelog.com/tokyo/A1311/A131101/13259701/" target="_blank">æ—¥æœ¬é¤å»³è©•è«–ç¶²ç«™</a></li>
                             </ul>
                             <button class="gemini-btn food-ai-btn" data-restaurant="ã¨ã‚“ã‹ã¤æªã®ã‚«ãƒ¬ãƒ¼å±‹ ã„ã£ãºã“ã£ãº ç§‹è‘‰åŸåº—">âœ¨ AI ç¾é£Ÿé¡§å•</button>
                        </div>
                        <div id="the-akiba" class="attraction-content hidden">
                             <img src="https://images.unsplash.com/photo-1571848504955-a23b3a168936?q=80&w=1200&auto=format&fit=crop" alt="ã‚®ãƒ•ãƒˆã‚·ãƒ§ãƒƒãƒ— The AkiBa" class="attraction-detail-image lightbox-trigger">
                             <h4>ã‚®ãƒ•ãƒˆã‚·ãƒ§ãƒƒãƒ— The AkiBa ğŸ</h4>
                             <p>ä½æ–¼ç§‹è‘‰åŸãƒ©ã‚¸ã‚ªæœƒé¤¨ä¸€æ¨“çš„ä¼´æ‰‹ç¦®åº—ï¼Œè²©å”®å„ç¨®èˆ‡ç§‹è‘‰åŸã€å‹•æ¼«æ–‡åŒ–ç›¸é—œçš„ç‰¹è‰²å•†å“èˆ‡é»å¿ƒã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="transportation">
            <div class="section-header reveal">
                <h2>äº¤é€šè³‡è¨Š</h2>
                <p>å„ä¸»è¦æ™¯é»èˆ‡é¤å»³ä¹‹é–“çš„ç§»å‹•æ–¹å¼èˆ‡äº¤é€šè²»ç”¨æ¦‚è¦½ã€‚</p>
            </div>
            <img src="https://images.unsplash.com/photo-1533139143976-357121153202?q=80&w=1200&auto=format&fit=crop" alt="Transportation Map Image" class="section-image reveal lightbox-trigger">
            <div class="card reveal">
                <div class="tabs">
                    <button data-transportation-tab="nrt-to-mustard" class="transportation-tab-btn active">æ©Ÿå ´ â†’ ä¸‹åŒ—æ¾¤é£¯åº—</button>
                    <button data-transportation-tab="mustard-to-grand" class="transportation-tab-btn">ä¸‹åŒ—æ¾¤ â†’ æ±äº¬ä¸­å¤®</button>
                    <button data-transportation-tab="grand-to-mygo" class="transportation-tab-btn">é£¯åº— â†’ MyGOè–åœ°</button>
                    <button data-transportation-tab="grand-to-nrt" class="transportation-tab-btn">é£¯åº— â†’ æ©Ÿå ´</button>
                </div>
                <div class="prose-custom">
                    <div id="nrt-to-mustard" class="transportation-content">
                        <h4>æˆç”°æ©Ÿå ´ (NRT) â†’ ä¸‹åŒ—æ¾¤èŠ¥æœ«é£¯åº— âœˆï¸â¡ï¸ğŸ¨</h4>
                        <ul>
                            <li>æ–¹å¼: æˆç”°ç‰¹å¿« (N'EX) + äº¬ç‹äº•ä¹‹é ­ç·š</li>
                            <li>èªªæ˜: æ­ä¹˜N'EXè‡³æ¾€è°·ç«™ï¼Œå†è½‰ä¹˜äº¬ç‹äº•ä¹‹é ­ç·šè‡³ä¸‹åŒ—æ¾¤ç«™ã€‚</li>
                            <li>é ä¼°è²»ç”¨ (æ¯äºº): ç´„ Â¥3,250</li>
                        </ul>
                    </div>
                    <div id="mustard-to-grand" class="transportation-content hidden">
                        <h4>ä¸‹åŒ—æ¾¤èŠ¥æœ«é£¯åº— â†’ æ±äº¬ä¸­å¤®å¤§é£¯åº— ğŸ¨â¡ï¸ğŸ¨</h4>
                        <ul>
                            <li>æ–¹å¼: äº¬ç‹äº•ä¹‹é ­ç·š + JRå±±æ‰‹ç·š/ä¸­å¤®ç·š</li>
                            <li>èªªæ˜: å¾ä¸‹åŒ—æ¾¤æ­è‡³æ¾€è°·æˆ–æ–°å®¿ï¼Œå†è½‰ä¹˜JRç·šè‡³ç¥ç”°ç«™ã€‚</li>
                            <li>é ä¼°è²»ç”¨ (æ¯äºº): ç´„ Â¥350</li>
                        </ul>
                    </div>
                    <div id="grand-to-mygo" class="transportation-content hidden">
                        <h4>æ±äº¬ä¸­å¤®å¤§é£¯åº— â†’ MyGOè–åœ° (é£›é³¥å±±/èˆŠå¤æ²³åº­åœ’) ğŸ¨â¡ï¸ğŸŒ¸</h4>
                        <ul>
                            <li>æ–¹å¼: JRå±±æ‰‹ç·š/äº¬æ¿±æ±åŒ—ç·š</li>
                            <li>èªªæ˜: å¾ç¥ç”°ç«™æ­ä¹˜JRç·šè‡³ç‹å­ç«™æˆ–ä¸Šä¸­é‡Œç«™ã€‚</li>
                            <li>é ä¼°è²»ç”¨ (æ¯äºº): ç´„ Â¥170</li>
                        </ul>
                    </div>
                    <div id="grand-to-nrt" class="transportation-content hidden">
                        <h4>æ±äº¬ä¸­å¤®å¤§é£¯åº— â†’ æˆç”°æ©Ÿå ´ (NRT) ğŸ¨â¡ï¸âœˆï¸</h4>
                        <ul>
                            <li>æ–¹å¼: JRå±±æ‰‹ç·š + äº¬æˆSkyliner</li>
                            <li>èªªæ˜: å¾ç¥ç”°ç«™æ­JRè‡³æ—¥æš®é‡Œæˆ–ä¸Šé‡ï¼Œå†è½‰ä¹˜Skylinerã€‚</li>
                            <li>é ä¼°è²»ç”¨ (æ¯äºº): ç´„ Â¥2,720</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="budget">
            <div class="section-header reveal">
                <h2>é ç®—åˆ†æ</h2>
                <p>æ·±å…¥äº†è§£å„é …é–‹éŠ·çš„ç´°ç¯€ï¼Œæœ‰æ•ˆæ§ç®¡æ‚¨çš„æ—…è¡Œé ç®—ã€‚</p>
            </div>
            <img src="https://images.unsplash.com/photo-1565932887479-131ed3e1554a?q=80&w=1200&auto=format&fit=crop" alt="Travel Budget Image" class="section-image reveal lightbox-trigger">
            <div class="grid grid-cols-1 lg-grid-cols-2">
                <div class="card reveal">
                    <h3 class="text-center">å„é …è²»ç”¨æ¯”è¼ƒ</h3>
                    <div class="chart-container h-96">
                        <canvas id="expenseBarChart"></canvas>
                    </div>
                </div>
                <div class="card reveal">
                     <h3 class="text-center">è²»ç”¨æ˜ç´°è¡¨</h3>
                     <div>
                        <table>
                            <thead><tr><th>è²»ç”¨é¡åˆ¥</th><th class="text-right">è²»ç”¨ (JPY)</th><th class="text-right">è²»ç”¨ (NTD)</th></tr></thead>
                            <tbody>
                            </tbody>
                            <tfoot>
                            </tfoot>
                        </table>
                        <p class="text-xs text-right mt-2">*æ—¥åœ“èˆ‡å°å¹£æ›ç®—åŒ¯ç‡ä»¥0.21ä¼°ç®—ï¼Œå¯¦éš›è²»ç”¨å¯èƒ½è®Šå‹•ã€‚</p>
                     </div>
                </div>
            </div>
        </section>

        <section id="shopping-list">
            <div class="section-header reveal">
                <h2>è³¼ç‰© & ä¼´æ‰‹ç¦®æ¸…å–®</h2>
                <p>ç¢ºä¿ä¸æ¼æ‰ä»»ä½•æƒ³è²·çš„ç‰©å“æˆ–é€çµ¦è¦ªå‹çš„ä¼´æ‰‹ç¦®ï¼</p>
            </div>
            <img src="https://images.unsplash.com/photo-1563013544-824ae1b704d3?q=80&w=1200&auto=format&fit=crop" alt="Shopping List Image" class="section-image reveal lightbox-trigger">
            <div class="card reveal interactive-checklist" id="shopping-checklist">
                <h3>è³¼ç‰©æ¸…å–® ğŸ›ï¸</h3>
                <ul>
                    <li><input type="checkbox" id="shop_toiletries"><label for="shop_toiletries">ç›¥æ´—ç”¨å“ï¼šç‰™åˆ·ã€ç‰™è†ã€æ´—é¢ä¹³ ğŸ§´</label></li>
                    <li><input type="checkbox" id="shop_3c"><label for="shop_3c">3Cç”¨å“ï¼šè—èŠ½è€³æ©Ÿã€æ‰‹æ©Ÿæ®¼èˆ‡è¡Œå‹•é›»æº</label></li>
                    <li><input type="checkbox" id="shop_medical"><label for="shop_medical">é†«ç™‚ç”¨å“ï¼šäººå·¥æ·šæ¶²ï¼ˆéœ€ç¢ºèªæ˜¯å¦å¯å¸¶å›åœ‹ï¼‰ğŸ‘ï¸â€ğŸ—¨ï¸</label></li>
                    <li><input type="checkbox" id="shop_clothes"><label for="shop_clothes">æœé£¾ï¼šå¯åœ¨UNã€GQç­‰ä¾¿å®œåœ°æ–¹è³¼è²· ğŸ‘•</label></li>
                </ul>
                <h3 style="margin-top: 2rem;">ä¼´æ‰‹ç¦® ğŸ</h3>
                <ul>
                    <li><input type="checkbox" id="souvenir_top"><label for="souvenir_top">å¥³æ€§ä¸Šè¡£ï¼ˆUNã€GQï¼‰ğŸ‘š</label></li>
                    <li><input type="checkbox" id="souvenir_apple"><label for="souvenir_apple">å…¨å®¶è˜‹æœä¹¾å…©åŒ… ğŸ</label></li>
                    <li><input type="checkbox" id="souvenir_akiba"><label for="souvenir_akiba">ç§‹è‘‰åŸç™¾è²¨å•†åº—çš„ä¼´æ‰‹ç¦®ï¼ˆå®¶äººã€åŒäº‹ï¼‰ğŸ›ï¸</label></li>
                </ul>
            </div>
        </section>
        
        <section id="checklist">
            <div class="section-header reveal">
                <h2>è¡Œå‰æº–å‚™æ¸…å–®</h2>
                <p>ç¢ºä¿è¬äº‹ä¿±å‚™ï¼Œè®“æ‚¨çš„æ—…ç¨‹é †æš¢ç„¡æ†‚ã€‚</p>
            </div>
            <img src="https://images.unsplash.com/photo-1522202615453-3c42981a881e?q=80&w=1200&auto=format&fit=crop" alt="Travel Checklist Image" class="section-image reveal lightbox-trigger">
            <div class="card reveal interactive-checklist" id="pre-trip-checklist">
                <h3>è¡Œå‰æº–å‚™</h3>
                <ul>
                    <li><input type="checkbox" id="pre_covid_vaccine"><label for="pre_covid_vaccine">æ–°å† ç–«è‹—æ–½æ‰“ ğŸ’‰</label></li>
                    <li><input type="checkbox" id="pre_flu_vaccine"><label for="pre_flu_vaccine">æµæ„Ÿç–«è‹—æ–½æ‰“ ğŸ¤§</label></li>
                    <li><input type="checkbox" id="pre_tigerair_email"><label for="pre_tigerair_email">è™èˆªè¡Œç¨‹ç¢ºèªå–®ï¼ˆåœ¨Emailè£¡ï¼‰ğŸ“§</label></li>
                    <li><input type="checkbox" id="pre_visit_japan_web"><label for="pre_visit_japan_web">Visit Japan Webå…¥å¢ƒæ‰‹çºŒ âœ…</label></li>
                    <li><input type="checkbox" id="pre_travel_insurance"><label for="pre_travel_insurance">æ—…å¹³éšª ğŸ›¡ï¸</label></li>
                    <li><input type="checkbox" id="pre_credit_card"><label for="pre_credit_card">ç”³è¾¦æ—¥æœ¬æ—…éŠä¿¡ç”¨å¡ ğŸ’³</label></li>
                    <li><input type="checkbox" id="pre_japan_sim"><label for="pre_japan_sim">æ—¥æœ¬ç¶²å¡ ğŸ“¶</label></li>
                    <li><input type="checkbox" id="pre_common_meds"><label for="pre_common_meds">å¸¸ç”¨è—¥ç‰©è³¼è²·ï¼ˆé˜²æ­¢èƒƒè„¹æ°£ã€èƒƒé…¸éå¤šï¼›æ¶ˆç‚æ­¢ç—›è—¥ã€é€æ°£è† å¸¶ã€ï¼¯ï¼«è¹¦ï¼‰ğŸ©¹</label></li>
                    <li><input type="checkbox" id="pre_rest_order"><label for="pre_rest_order">é¤å»³äº‹å‰é ç´„ğŸ«•</label></li>
                </ul>
                <h3 style="margin-top: 2rem;">æ—…éŠå¿…å‚™å“</h3>
                <ul>
                    <li><input type="checkbox" id="item_passport"><label for="item_passport">è­·ç…§ ğŸ›‚</label></li>
                    <li><input type="checkbox" id="item_phone"><label for="item_phone">æ‰‹æ©Ÿ ğŸ“±</label></li>
                    <li><input type="checkbox" id="item_charger"><label for="item_charger">å……é›»å™¨ ğŸ”Œ</label></li>
                    <li><input type="checkbox" id="item_power_bank"><label for="item_power_bank">è¡Œå‹•é›»æº ğŸ”‹</label></li>
                    <li><input type="checkbox" id="item_universal_adapter"><label for="item_universal_adapter">è¬åœ‹å…… ğŸŒ</label></li>
                    <li><input type="checkbox" id="item_wallet"><label for="item_wallet">éŒ¢åŒ…ï¼ˆä¿¡ç”¨å¡ï¼‰ğŸ’°</label></li>
                    <li><input type="checkbox" id="item_yen"><label for="item_yen">æ—¥åœ“ï¼ˆATMé ˜å–æˆ–å…Œæ›ï¼‰ğŸ’´</label></li>
                    <li><input type="checkbox" id="item_clothes"><label for="item_clothes">æ›æ´—è¡£ç‰©ï¼ˆä¸‰å¤©ä»½ï¼‰ğŸ‘•ğŸ‘–</label></li>
                    <li><input type="checkbox" id="item_toiletries"><label for="item_toiletries">ç›¥æ´—ç”¨å“ï¼ˆç‰™åˆ·ã€ç‰™è†ã€æ¯›å·¾ï¼‰ğŸ§´</label></li>
                    <li><input type="checkbox" id="item_motion_sickness_med"><label for="item_motion_sickness_med">æšˆè»Šè—¥åƒäº†æ²’ ğŸ’Š</label></li>
                    <li><input type="checkbox" id="item_room_key"><label for="item_room_key">æˆ¿é–€é‘°åŒ™ ğŸ”‘</label></li>
                    <li><input type="checkbox" id="item_water_bottle"><label for="item_water_bottle">æ°´ç“¶ï¼ˆä¸€é»é»æ°´ï¼‰ğŸ’§</label></li>
                    <li><input type="checkbox" id="item_waist_bag"><label for="item_waist_bag">è…°åŒ… ğŸ‘</label></li>
                    <li><input type="checkbox" id="item_hand_luggage"><label for="item_hand_luggage">æ‰‹æè¡ŒæåŒ… ğŸ’¼</label></li>
                    <li><input type="checkbox" id="item_twd_cash"><label for="item_twd_cash">å°å¹£ç¾éˆ”ï¼ˆ5000ä»¥å…§ä»¥å‚™ä¸æ™‚ä¹‹éœ€ï¼‰ğŸ’µ</label></li>
                </ul>
            </div>
        </section>

    </main>

    <footer class="text-center py-8 mt-12" style="background-color: var(--bg-light); border-top: 1px solid var(--border-color);">
        <p class="text-sm" style="color: var(--text-muted);">æ­¤äº’å‹•å„€è¡¨æ¿æ ¹æ“šæ‚¨æä¾›çš„æ—…éŠå ±å‘Šç”Ÿæˆã€‚</p>
    </footer>

    <div id="lightbox">
        <span class="close">&times;</span>
        <img id="lightbox-img" src="">
    </div>

    <div id="gemini-modal">
        <div class="gemini-modal-content">
            <button class="gemini-modal-close">&times;</button>
            <h3 id="gemini-modal-title"></h3>
            <div id="gemini-modal-body">
                <div class="loader"></div>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Recalculate food cost for two people
        const mealCostsPerPerson = {
            'è·¯åœ°è£å’–å“© ä¾ ä¸‹åŒ—æ¾¤åº—': 2255,
            'ç™½é«­æ³¡èŠ™å·¥æˆ¿': 999,
            'Village Vanguard Diner Shimokitazawa': 2999,
            'ãˆãã¶ã‚Š': 1999, // Assuming similar to Cocofulu
            'åŸå‘³ç„¼è‚‰ ã˜ã‚ƒã‚“ã‹ é“ç„å‚': 1999,
            'äººå½¢ç”ºä»ŠåŠ æ–°å®¿é«™å³¶å±‹åº—': 19999,
            'ã‚³ã‚³ãƒ•ãƒ«': 1999,
            'å»šæˆ¿å—æµ· ç¥ä¿ç”ºåº—': 1999,
            'ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³åšå¤šé¢¨é¾ ç§‹è‘‰åŸç·æœ¬åº—': 1999,
            'ã¨ã‚“ã‹ã¤æªã®ã‚«ãƒ¬ãƒ¼å±‹ ã„ã£ãºã“ã£ãº ç§‹è‘‰åŸåº—': 1999,
            'è¶…å•†æ™šé¤': 1000, // Estimate
            'è¶…å•†æ—©é¤': 800, // Estimate
            'éš¨æ„åˆé¤': 1500, // Estimate
            'æ©Ÿå ´æ™šé¤': 2000 // Estimate
        };

        const itineraryMeals = [
            mealCostsPerPerson['è¶…å•†æ™šé¤'], // Day 1
            mealCostsPerPerson['è¶…å•†æ—©é¤'], mealCostsPerPerson['è·¯åœ°è£å’–å“© ä¾ ä¸‹åŒ—æ¾¤åº—'], mealCostsPerPerson['ç™½é«­æ³¡èŠ™å·¥æˆ¿'], mealCostsPerPerson['Village Vanguard Diner Shimokitazawa'], // Day 2
            mealCostsPerPerson['ãˆãã¶ã‚Š'], mealCostsPerPerson['åŸå‘³ç„¼è‚‰ ã˜ã‚ƒã‚“ã‹ é“ç„å‚'], mealCostsPerPerson['äººå½¢ç”ºä»ŠåŠ æ–°å®¿é«™å³¶å±‹åº—'], // Day 3
            0, mealCostsPerPerson['ã‚³ã‚³ãƒ•ãƒ«'], mealCostsPerPerson['å»šæˆ¿å—æµ· ç¥ä¿ç”ºåº—'], // Day 4 (Breakfast from previous day)
            mealCostsPerPerson['è¶…å•†æ—©é¤'], mealCostsPerPerson['ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³åšå¤šé¢¨é¾ ç§‹è‘‰åŸç·æœ¬åº—'], mealCostsPerPerson['ã¨ã‚“ã‹ã¤æªã®ã‚«ãƒ¬ãƒ¼å±‹ ã„ã£ãºã“ã£ãº ç§‹è‘‰åŸåº—'], // Day 5
            0, mealCostsPerPerson['éš¨æ„åˆé¤'], mealCostsPerPerson['æ©Ÿå ´æ™šé¤'] // Day 6 (Breakfast from previous day)
        ];
        
        const totalFoodCostPerPerson = itineraryMeals.reduce((sum, cost) => sum + cost, 0);
        const totalFoodCostTwoPeople = totalFoodCostPerPerson * 2;


        const tripData = {
            costsJPY: {
                accommodation: 79381,
                transportation: 9000,
                food: totalFoodCostTwoPeople, // Updated food cost
                shopping: 125000,
                tickets: 150
            },
            costsNTD: {
                flights: 33076
            },
            exchangeRate: 0.21
        };
        
        const calculateTotal = () => {
            const totalJPY = Object.values(tripData.costsJPY).reduce((sum, cost) => sum + cost, 0);
            const jpyInNtd = totalJPY * tripData.exchangeRate;
            const totalNTD = jpyInNtd + tripData.costsNTD.flights;
            
            document.getElementById('totalCost').textContent = `NTD ${Math.round(totalNTD).toLocaleString()}`;

            const budgetTableBody = document.querySelector('#budget tbody');
            const budgetTableFoot = document.querySelector('#budget tfoot');
            budgetTableBody.innerHTML = `
                <tr><td class="font-medium">æ©Ÿç¥¨</td><td class="text-right">-</td><td class="text-right">${tripData.costsNTD.flights.toLocaleString()}</td></tr>
                <tr><td class="font-medium">ä½å®¿</td><td class="text-right">${tripData.costsJPY.accommodation.toLocaleString()}</td><td class="text-right">${Math.round(tripData.costsJPY.accommodation * tripData.exchangeRate).toLocaleString()}</td></tr>
                <tr><td class="font-medium">äº¤é€š</td><td class="text-right">${tripData.costsJPY.transportation.toLocaleString()}</td><td class="text-right">${Math.round(tripData.costsJPY.transportation * tripData.exchangeRate).toLocaleString()}</td></tr>
                <tr><td class="font-medium">é¤é£²</td><td class="text-right">${tripData.costsJPY.food.toLocaleString()}</td><td class="text-right">${Math.round(tripData.costsJPY.food * tripData.exchangeRate).toLocaleString()}</td></tr>
                <tr><td class="font-medium">è³¼ç‰©èˆ‡é›œé …</td><td class="text-right">${tripData.costsJPY.shopping.toLocaleString()}</td><td class="text-right">${Math.round(tripData.costsJPY.shopping * tripData.exchangeRate).toLocaleString()}</td></tr>
                <tr><td class="font-medium">æ™¯é»é–€ç¥¨</td><td class="text-right">${tripData.costsJPY.tickets.toLocaleString()}</td><td class="text-right">${Math.round(tripData.costsJPY.tickets * tripData.exchangeRate).toLocaleString()}</td></tr>
            `;
            budgetTableFoot.innerHTML = `<tr><td>ç¸½è¨ˆ</td><td class="text-right">Â¥${totalJPY.toLocaleString()}</td><td class="text-right">NTD ${Math.round(totalNTD).toLocaleString()}</td></tr>`;

            return { totalJPY, totalNTD };
        };


        const revealElements = document.querySelectorAll('.reveal');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });
        revealElements.forEach(el => observer.observe(el));

        const setupNavigation = () => {
            const navLinks = document.querySelectorAll('.nav-links a');
            const sections = document.querySelectorAll('main section');
            const mobileNav = document.getElementById('mobile-nav');
            
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 100) { current = section.getAttribute('id'); }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if(link.getAttribute('href') === `#${current}`) { link.classList.add('active'); }
                });
                
                if (mobileNav.value !== `#${current}`) { mobileNav.value = `#${current}`; }
            });
        };

        const setupCharts = () => {
            Chart.defaults.color = 'rgba(234, 234, 234, 0.8)';
            Chart.defaults.font.family = "'Noto Sans TC', sans-serif";
            const commonTooltip = {
                backgroundColor: 'rgba(30, 30, 30, 0.9)', titleFont: { size: 14, weight: 'bold' },
                bodyFont: { size: 12 }, padding: 10, cornerRadius: 6,
                borderColor: 'rgba(247, 183, 51, 0.5)', borderWidth: 1
            };

            const costLabels = ['æ©Ÿç¥¨', 'ä½å®¿', 'äº¤é€š', 'é¤é£²', 'è³¼ç‰©èˆ‡é›œé …', 'æ™¯é»é–€ç¥¨'];
            const costValuesNTD = [
                tripData.costsNTD.flights,
                tripData.costsJPY.accommodation * tripData.exchangeRate,
                tripData.costsJPY.transportation * tripData.exchangeRate,
                tripData.costsJPY.food * tripData.exchangeRate,
                tripData.costsJPY.shopping * tripData.exchangeRate,
                tripData.costsJPY.tickets * tripData.exchangeRate
            ];

            const donutCtx = document.getElementById('budgetDonutChart')?.getContext('2d');
            if (donutCtx) {
                new Chart(donutCtx, {
                    type: 'doughnut',
                    data: {
                        labels: costLabels,
                        datasets: [{
                            data: costValuesNTD,
                            backgroundColor: ['#29D8E4', '#F7B733', '#8E44AD', '#3498DB', '#E74C3C', '#2ECC71'],
                            borderColor: '#1E1E1E', borderWidth: 4,
                        }]
                    },
                    options: {
                        responsive: true, maintainAspectRatio: false,
                        plugins: { legend: { position: 'bottom', labels: { padding: 20 } }, tooltip: commonTooltip }
                    }
                });
            }

            const barCtx = document.getElementById('expenseBarChart')?.getContext('2d');
            if(barCtx) {
                const barLabels = ['ä½å®¿', 'äº¤é€š', 'é¤é£²', 'è³¼ç‰©', 'æ™¯é»'];
                const barValuesJPY = [ 
                    tripData.costsJPY.accommodation,
                    tripData.costsJPY.transportation,
                    tripData.costsJPY.food,
                    tripData.costsJPY.shopping,
                    tripData.costsJPY.tickets
                ];
                new Chart(barCtx, {
                    type: 'bar',
                    data: { labels: barLabels, datasets: [{
                        label: 'é ä¼°èŠ±è²» (JPY)', data: barValuesJPY,
                        backgroundColor: 'rgba(41, 216, 228, 0.6)', borderColor: 'rgba(41, 216, 228, 1)', borderWidth: 1
                    }]},
                    options: {
                        indexAxis: 'y', responsive: true, maintainAspectRatio: false,
                        scales: { x: { grid: { color: 'rgba(255,255,255,0.1)' } }, y: { grid: { display: false } } },
                        plugins: { legend: { display: false }, tooltip: { ...commonTooltip, callbacks: {
                            label: function(context) {
                                const valueJPY = context.raw;
                                const valueNTD = Math.round(valueJPY * tripData.exchangeRate);
                                return `æ—¥åœ“: Â¥${valueJPY.toLocaleString()} | æ–°å°å¹£: NT$${valueNTD.toLocaleString()}`;
                            }
                        }}}
                    }
                });
            }
        };
        
        const setupTabs = (containerSelector, btnSelector, contentSelector) => {
            const container = document.querySelector(containerSelector);
            if (!container) return;
            container.addEventListener('click', e => {
                if (!e.target.matches(btnSelector)) return;
                const button = e.target;
                const tabButtons = container.querySelectorAll(btnSelector);
                const tabContents = container.querySelectorAll(contentSelector);
                const tabId = button.dataset.tab || button.dataset.attractionTab || button.dataset.transportationTab;
                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                tabContents.forEach(content => content.classList.toggle('hidden', content.id !== tabId));
            });
        };

        const setupNestedTabs = () => {
            const attractionsSection = document.getElementById('attractions');
            if (!attractionsSection) return;
            const categoryButtons = attractionsSection.querySelectorAll('.category-tab-btn');
            const categoryContents = attractionsSection.querySelectorAll('.category-tab-content');

            categoryButtons.forEach(catButton => {
                catButton.addEventListener('click', () => {
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    catButton.classList.add('active');
                    const categoryId = catButton.dataset.categoryTab;
                    categoryContents.forEach(content => content.classList.toggle('hidden', content.id !== categoryId));
                    const activeCategory = document.getElementById(categoryId);
                    if(activeCategory) {
                        const firstAttractionBtn = activeCategory.querySelector('.attraction-tab-btn');
                        if(firstAttractionBtn) firstAttractionBtn.click();
                    }
                });
            });

            attractionsSection.querySelectorAll('.category-tab-content').forEach(category => {
                const attractionButtons = category.querySelectorAll('.attraction-tab-btn');
                const attractionContents = category.querySelectorAll('.attraction-content');
                attractionButtons.forEach(attBtn => {
                    attBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        attractionButtons.forEach(btn => btn.classList.remove('active'));
                        attBtn.classList.add('active');
                        const attractionId = attBtn.dataset.attractionTab;
                        attractionContents.forEach(content => content.classList.toggle('hidden', content.id !== attractionId));
                    });
                });
            });
        };

        const setupChecklists = () => {
            document.querySelectorAll('.interactive-checklist').forEach(list => {
                const storageKey = list.id + '-state';
                const savedState = JSON.parse(localStorage.getItem(storageKey)) || {};
                list.querySelectorAll('input[type="checkbox"]').forEach(input => {
                    if (savedState[input.id]) { input.checked = true; }
                });
                list.addEventListener('change', e => {
                    if (e.target.type === 'checkbox') {
                        const currentState = JSON.parse(localStorage.getItem(storageKey)) || {};
                        currentState[e.target.id] = e.target.checked;
                        localStorage.setItem(storageKey, JSON.stringify(currentState));
                    }
                });
            });
        };

        const setupLightbox = () => {
            const lightbox = document.getElementById('lightbox');
            if(!lightbox) return;
            const lightboxImg = document.getElementById('lightbox-img');
            const closeBtn = lightbox.querySelector('.close');
            const closeLightbox = () => lightbox.classList.remove('active');
            document.body.addEventListener('click', e => {
                if (e.target.matches('.lightbox-trigger')) {
                    lightboxImg.src = e.target.src;
                    lightbox.classList.add('active');
                }
            });
            closeBtn.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => { if(e.target === lightbox) closeLightbox(); });
        };

        const highlightCurrentDay = () => {
            const tripStartDate = new Date('2025-08-18T00:00:00');
            const today = new Date();
            const diffTime = today - tripStartDate;
            if (diffTime < 0) return; 
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;
            if (diffDays >= 1 && diffDays <= 6) {
                const currentDayTab = document.querySelector(`.tab-btn[data-tab="day${diffDays}"]`);
                if (currentDayTab) { currentDayTab.click(); }
            }
        };

        const geminiModal = document.getElementById('gemini-modal');
        const geminiModalTitle = document.getElementById('gemini-modal-title');
        const geminiModalBody = document.getElementById('gemini-modal-body');
        const loadingIndicator = '<div class="loader"></div>';

        async function callGeminiAPI(prompt) {
            geminiModalBody.innerHTML = loadingIndicator;
            geminiModal.classList.add('active');
            
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            const payload = { contents: [{ role: "user", parts: [{ text: prompt }] }] };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) { throw new Error(`API éŒ¯èª¤: ${response.status}`); }
                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    geminiModalBody.innerHTML = text.replace(/\n/g, '<br>');
                } else {
                    geminiModalBody.textContent = 'æŠ±æ­‰ï¼Œç„¡æ³•å¾ AI å–å¾—å›æ‡‰ã€‚è«‹ç¨å¾Œå†è©¦ã€‚';
                }
            } catch (error) {
                console.error('Gemini API å‘¼å«å¤±æ•—:', error);
                geminiModalBody.textContent = `ç™¼ç”ŸéŒ¯èª¤ï¼š${error.message}ï¼Œè«‹æª¢æŸ¥ä¸»æ§å°ä»¥ç²å–è©³ç´°è³‡è¨Šã€‚`;
            }
        }
        
        document.querySelectorAll('.itinerary-ai-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const contentContainer = e.target.closest('.tab-content');
                const title = contentContainer.querySelector('h3').textContent;
                const items = Array.from(contentContainer.querySelectorAll('li')).map(li => li.textContent.trim()).join('\n');
                const prompt = `æˆ‘æ˜¯ä¸€ä½æ­£åœ¨è¦åŠƒæ—¥æœ¬æ±äº¬è‡ªç”±è¡Œçš„æ—…å®¢ï¼Œä»¥ä¸‹æ˜¯æˆ‘å…¶ä¸­ä¸€å¤©çš„è¡Œç¨‹è¨ˆç•«ï¼š\n\næ¨™é¡Œï¼š${title}\nè¡Œç¨‹ç´°ç¯€ï¼š\n${items}\n\nè«‹ä»¥ä¸€å€‹å°ˆæ¥­æ—¥æœ¬æ—…éŠé”äººçš„å£å»ï¼Œç”¨ç¹é«”ä¸­æ–‡ï¼Œç‚ºæˆ‘æä¾› 3-4 å€‹å…·é«”çš„å„ªåŒ–å»ºè­°ã€‚å»ºè­°å¯ä»¥åŒ…å«ï¼š\n- æ›´é †æš¢çš„äº¤é€šè·¯ç·šå®‰æ’\n- è¡Œç¨‹ä¸­å¯ä»¥é †é“åŠ å…¥çš„ç§æˆ¿æ™¯é»æˆ–ç‰¹è‰²å°åº—\n- å€¼å¾—æ³¨æ„çš„çœéŒ¢å°æŠ€å·§æˆ–æ–‡åŒ–ç¦®å„€æé†’\n- æ¨è–¦çš„æ‹ç…§æ‰“å¡é»\nè«‹ç”¨æ¢åˆ—å¼çš„æ–¹å¼å‘ˆç¾ï¼Œè®“å»ºè­°ä¸€ç›®äº†ç„¶ã€‚`;
                
                geminiModalTitle.textContent = `AI è¡Œç¨‹å„ªåŒ–å»ºè­° - ${title.split(':')[0]}`;
                callGeminiAPI(prompt);
            });
        });

        document.querySelectorAll('.food-ai-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const restaurantName = e.target.dataset.restaurant;
                const prompt = `æˆ‘å³å°‡è¦å»ä½æ–¼æ±äº¬çš„é¤å»³ã€Œ${restaurantName}ã€ã€‚è«‹æ‰®æ¼”ä¸€ä½æ´»æ½‘çš„ç¾é£Ÿéƒ¨è½å®¢ï¼Œç”¨ç”Ÿå‹•æœ‰è¶£ä¸”å¸å¼•äººçš„èªæ°£ï¼Œä»¥ç¹é«”ä¸­æ–‡ç‚ºæˆ‘ä»‹ç´¹é€™å®¶é¤å»³ã€‚\n\nè«‹åŒ…å«ä»¥ä¸‹å¹¾é»ï¼š\n1.  **å¿…é»æ‹›ç‰Œèœ**ï¼šæ¨è–¦ 2-3 é“çµ•å°ä¸èƒ½éŒ¯éçš„èœè‰²ï¼Œä¸¦å½¢å®¹å®ƒå€‘çš„å£æ„Ÿèˆ‡ç‰¹è‰²ã€‚\n2.  **é¤å»³ç‰¹è‰²æˆ–æ•…äº‹**ï¼šåˆ†äº«é€™å®¶åº—çš„ç¨ç‰¹ä¹‹è™•ï¼Œä¾‹å¦‚è£æ½¢é¢¨æ ¼ã€å‰µè¾¦æ­·å²æˆ–æœ‰è¶£çš„ç”¨é¤é«”é©—ã€‚\n3.  **æ¨è–¦æ­é…**ï¼šå»ºè­°é©åˆæ­é…ä¸»é¤çš„é£²å“æˆ–å°èœã€‚\n\nè«‹è®“ä½ çš„å›è¦†åƒä¸€ç¯‡ç²¾å½©çš„é£Ÿè¨˜çŸ­æ–‡ï¼Œè®“æˆ‘çœ‹å®Œå°±è¿«ä¸åŠå¾…æƒ³å»å“åšï¼`;

                geminiModalTitle.textContent = `AI ç¾é£Ÿé¡§å• - ${restaurantName}`;
                callGeminiAPI(prompt);
            });
        });

        geminiModal.querySelector('.gemini-modal-close').addEventListener('click', () => geminiModal.classList.remove('active'));
        geminiModal.addEventListener('click', (e) => { if(e.target === geminiModal) geminiModal.classList.remove('active'); });
        
        // --- ğŸš€ åŸ·è¡Œæ‰€æœ‰åˆå§‹åŒ– ---
        calculateTotal();
        setupNavigation();
        setupCharts();
        setupTabs('#itinerary', '.tab-btn', '.tab-content');
        setupTabs('#transportation', '.transportation-tab-btn', '.transportation-content');
        setupNestedTabs();
        setupChecklists();
        setupLightbox();
        highlightCurrentDay();
    });
    </script>
</body>
</html>
